(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1928],{81928:function(e,t,o){var n,i,r; /**
 * @license Highstock JS v10.3.3 (2023-01-20)
 *
 * Indicator series type for Highcharts Stock
 *
 * (c) 2010-2021 Pawe≈Ç Dalek
 *
 * License: www.highcharts.com/license
 */ r=function(e){"use strict";var t=e?e._modules:{};function o(e,t,o,n){e.hasOwnProperty(t)||(e[t]=n.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}o(t,"Stock/Indicators/VBP/VBPPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(e){var t,o=this&&this.__extends||(t=function(e,o){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,o)},function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)});return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.destroy=function(){return this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),e.prototype.destroy.apply(this,arguments)},t}(e.seriesTypes.sma.prototype.pointClass)}),o(t,"Stock/Indicators/VBP/VBPIndicator.js",[t["Stock/Indicators/VBP/VBPPoint.js"],t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Chart/StockChart.js"]],function(e,t,o,n,i,r){var s,a=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),p=t.animObject,l=o.noop,u=n.seriesTypes,d=u.column.prototype,h=u.sma,c=i.addEvent,f=i.arrayMax,v=i.arrayMin,m=i.correctFloat,y=i.defined,g=i.error,S=i.extend,V=i.isArray,x=i.merge,D=Math.abs,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.negWidths=void 0,t.options=void 0,t.points=void 0,t.posWidths=void 0,t.priceZones=void 0,t.rangeStep=void 0,t.volumeDataArray=void 0,t.zoneStarts=void 0,t.zoneLinesSVG=void 0,t}return a(t,e),t.prototype.init=function(e){var t,n,i,s=this;o.seriesTypes.sma.prototype.init.apply(s,arguments);var a=c(r,"afterLinkSeries",function(){s.options&&(t=s.options.params,n=s.linkedParent,i=e.get(t.volumeSeriesID),s.addCustomEvents(n,i)),a()},{order:1});return s},t.prototype.addCustomEvents=function(e,t){var o=this;function n(){o.chart.redraw(),o.setData([]),o.zoneStarts=[],o.zoneLinesSVG&&(o.zoneLinesSVG=o.zoneLinesSVG.destroy())}return o.dataEventsToUnbind.push(c(e,"remove",function(){n()})),t&&o.dataEventsToUnbind.push(c(t,"remove",function(){n()})),o},t.prototype.animate=function(e){var t,o=this,n=o.chart.inverted,i=o.group,r={};!e&&i&&(t=n?o.yAxis.top:o.xAxis.left,n?(i["forceAnimate:translateY"]=!0,r.translateY=t):(i["forceAnimate:translateX"]=!0,r.translateX=t),i.animate(r,S(p(o.options.animation),{step:function(e,t){o.group.attr({scaleX:Math.max(.001,t.pos)})}})))},t.prototype.drawPoints=function(){this.options.volumeDivision.enabled&&(this.posNegVolume(!0,!0),d.drawPoints.apply(this,arguments),this.posNegVolume(!1,!1)),d.drawPoints.apply(this,arguments)},t.prototype.posNegVolume=function(e,t){var o,n,i,r,s=this,a=t?["positive","negative"]:["negative","positive"],p=s.options.volumeDivision,l=s.points.length,u=[],d=[],h=0;for(e?(s.posWidths=u,s.negWidths=d):(u=s.posWidths,d=s.negWidths);h<l;h++)(r=s.points[h])[a[0]+"Graphic"]=r.graphic,r.graphic=r[a[1]+"Graphic"],e&&(o=r.shapeArgs.width,(i=(n=s.priceZones[h]).wholeVolumeData)?(u.push(o/i*n.positiveVolumeData),d.push(o/i*n.negativeVolumeData)):(u.push(0),d.push(0))),r.color=t?p.styles.positiveColor:p.styles.negativeColor,r.shapeArgs.width=t?s.posWidths[h]:s.negWidths[h],r.shapeArgs.x=t?r.shapeArgs.x:s.posWidths[h]},t.prototype.translate=function(){var e,t,o,n,i,r,s,a,p,l,u,h,c=this,v=c.options,y=c.chart,g=c.yAxis,S=g.min,V=c.options.zoneLines,x=c.priceZones,P=0;d.translate.apply(c),(e=c.points).length&&(p=v.pointPadding<.5?v.pointPadding:.1,o=f(c.volumeDataArray),n=y.plotWidth/2,l=y.plotTop,i=D(g.toPixels(S)-g.toPixels(S+c.rangeStep)),s=D(g.toPixels(S)-g.toPixels(S+c.rangeStep)),p&&(r=D(i*(1-2*p)),P=D((i-r)/2),i=D(r)),e.forEach(function(e,t){u=e.barX=e.plotX=0,h=e.plotY=g.toPixels(x[t].start)-l-(g.reversed?i-s:i)-P,a=m(n*x[t].wholeVolumeData/o),e.pointWidth=a,e.shapeArgs=c.crispCol.apply(c,[u,h,a,i]),e.volumeNeg=x[t].negativeVolumeData,e.volumePos=x[t].positiveVolumeData,e.volumeAll=x[t].wholeVolumeData}),V.enabled&&c.drawZones(y,g,c.zoneStarts,V.styles))},t.prototype.getValues=function(e,t){var o,n,i,r=this,s=e.processedXData,a=e.processedYData,p=r.chart,l=t.ranges,u=[],d=[],h=[];if(!e.chart){g("Base series not found! In case it has been removed, add a new one.",!0,p);return}if(!(n=p.get(t.volumeSeriesID))){g("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,p);return}if((o=V(a[0]))&&4!==a[0].length){g("Type of "+e.name+" series is different than line, OHLC or candlestick.",!0,p);return}return(r.priceZones=r.specifyZones(o,s,a,l,n)).forEach(function(e,t){u.push([e.x,e.end]),d.push(u[t][0]),h.push(u[t][1])}),{values:u,xData:d,yData:h}},t.prototype.specifyZones=function(e,t,o,n,i){var r,s,a=this,p=!!e&&function(e){for(var t,o=e.length,n=e[0][3],i=n,r=1;r<o;r++)(t=e[r][3])<n&&(n=t),t>i&&(i=t);return{min:n,max:i}}(o),l=p?p.min:v(o),u=p?p.max:f(o),d=a.zoneStarts=[],h=[],c=0,g=1,S=a.linkedParent;if(!a.options.compareToMain&&S.dataModify&&(l=S.dataModify.modifyValue(l),u=S.dataModify.modifyValue(u)),!y(l)||!y(u))return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG&&(this.zoneLinesSVG=this.zoneLinesSVG.destroy())),[];for(r=a.rangeStep=m(u-l)/n,d.push(l);c<n-1;c++)d.push(m(d[c]+r));for(d.push(u),s=d.length;g<s;g++)h.push({index:g-1,x:t[0],start:d[g-1],end:d[g]});return a.volumePerZone(e,h,i,t,o)},t.prototype.volumePerZone=function(e,t,o,n,i){var r,s,a,p,l,u=this,d=o.processedXData,h=o.processedYData,c=t.length-1,f=i.length,v=h.length;return D(f-v)&&(n[0]!==d[0]&&h.unshift(0),n[f-1]!==d[v-1]&&h.push(0)),u.volumeDataArray=[],t.forEach(function(t){for(l=0,t.wholeVolumeData=0,t.positiveVolumeData=0,t.negativeVolumeData=0;l<f;l++){s=!1,a=!1,p=e?i[l][3]:i[l],r=l?e?i[l-1][3]:i[l-1]:p;var o=u.linkedParent;!u.options.compareToMain&&o.dataModify&&(p=o.dataModify.modifyValue(p),r=o.dataModify.modifyValue(r)),p<=t.start&&0===t.index&&(s=!0),p>=t.end&&t.index===c&&(a=!0),(p>t.start||s)&&(p<t.end||a)&&(t.wholeVolumeData+=h[l],r>p?t.negativeVolumeData+=h[l]:t.positiveVolumeData+=h[l])}u.volumeDataArray.push(t.wholeVolumeData)}),t},t.prototype.drawZones=function(e,t,o,n){var i,r=this,s=e.renderer,a=r.zoneLinesSVG,p=[],l=e.plotWidth,u=e.plotTop;o.forEach(function(o){i=t.toPixels(o)-u,p=p.concat(e.renderer.crispLine([["M",0,i],["L",l,i]],n.lineWidth))}),a?a.animate({d:p}):a=r.zoneLinesSVG=s.path(p).attr({"stroke-width":n.lineWidth,stroke:n.color,dashstyle:n.dashStyle,zIndex:r.group.zIndex+.1}).add(r.group)},t.defaultOptions=x(h.defaultOptions,{params:{index:void 0,period:void 0,ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"7px"},verticalAlign:"top"}}),t}(h);return S(P.prototype,{nameBase:"Volume by Price",nameComponents:["ranges"],calculateOn:{chart:"render",xAxis:"afterSetExtremes"},pointClass:e,markerAttribs:l,drawGraph:l,getColumnMetrics:d.getColumnMetrics,crispCol:d.crispCol}),n.registerSeriesType("vbp",P),P}),o(t,"masters/indicators/volume-by-price.src.js",[],function(){})},e.exports?(r.default=r,e.exports=r):void 0===(i=(function(e){return r(e),r.Highcharts=e,r}).apply(t,[o(78840),o(50496)]))||(e.exports=i)}}]);