(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4699],{20547:function(t,e,o){var n,r,i; /**
 * @license Highstock JS v10.3.3 (2023-01-20)
 *
 * All technical indicators for Highcharts Stock
 *
 * (c) 2010-2021 Pawel Fus
 *
 * License: www.highcharts.com/license
 */ i=function(t){"use strict";var e=t?t._modules:{};function o(t,e,o,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}o(e,"Stock/Indicators/SMA/SMAIndicator.js",[e["Core/Chart/Chart.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=e.seriesTypes.line,s=o.addEvent,a=o.error,p=o.extend,l=o.isArray,u=o.merge,c=o.pick,d=o.splat,h=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.dataEventsToUnbind=void 0,t.linkedParent=void 0,t.options=void 0,t.points=void 0,t}return r(o,e),o.prototype.destroy=function(){this.dataEventsToUnbind.forEach(function(t){t()}),e.prototype.destroy.apply(this,arguments)},o.prototype.getName=function(){var t=[],e=this.name;return e||((this.nameComponents||[]).forEach(function(e,o){t.push(this.options.params[e]+c(this.nameSuffixes[o],""))},this),e=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+t.join(", ")+")":"")),e},o.prototype.getValues=function(t,e){var o,n,r=e.period,i=t.xData,s=t.yData,a=s.length,p=[],u=[],c=[],d=-1,h=0,y=0;if(!(i.length<r)){for(l(s[0])&&(d=e.index?e.index:0);h<r-1;)y+=d<0?s[h]:s[h][d],h++;for(o=h;o<a;o++)y+=d<0?s[o]:s[o][d],n=[i[o],y/r],p.push(n),u.push(n[0]),c.push(n[1]),y-=d<0?s[o-h]:s[o-h][d];return{values:p,xData:u,yData:c}}},o.prototype.init=function(o,n){var r=this;e.prototype.init.call(r,o,n);var i=s(t,"afterLinkSeries",function(){var t=!!r.dataEventsToUnbind.length;if(!r.linkedParent)return a("Series "+r.options.linkedTo+" not found! Check `linkedTo`.",!1,o);if(!t&&(r.dataEventsToUnbind.push(s(r.linkedParent,"updatedData",function(){r.recalculateValues()})),r.calculateOn.xAxis&&r.dataEventsToUnbind.push(s(r.linkedParent.xAxis,r.calculateOn.xAxis,function(){r.recalculateValues()}))),"init"===r.calculateOn.chart)r.processedYData||r.recalculateValues();else if(!t)var e=s(r.chart,r.calculateOn.chart,function(){r.recalculateValues(),e()})},{order:0});r.dataEventsToUnbind=[],r.eventsToUnbind.push(i)},o.prototype.recalculateValues=function(){var t,e,o,n,r,i,s=[],a=this,p=a.points||[],l=(a.xData||[]).length,u=!0,c=a.linkedParent.options&&a.linkedParent.yData&&a.linkedParent.yData.length&&a.getValues(a.linkedParent,a.options.params)||{values:[],xData:[],yData:[]};if(l&&!a.hasGroupedData&&a.visible&&a.points){if(a.cropped){for(a.xAxis&&(n=a.xAxis.min,r=a.xAxis.max),o=a.cropData(c.xData,c.yData,n,r),i=0;i<o.xData.length;i++)s.push([o.xData[i]].concat(d(o.yData[i])));t=c.xData.indexOf(a.xData[0]),e=c.xData.indexOf(a.xData[a.xData.length-1]),-1===t&&e===c.xData.length-2&&s[0][0]===p[0].x&&s.shift(),a.updateData(s)}else c.xData.length!==l-1&&c.xData.length!==l+1&&(u=!1,a.updateData(c.values))}u&&(a.xData=c.xData,a.yData=c.yData,a.options.data=c.values),a.calculateOn.xAxis&&a.processedXData&&(delete a.processedXData,a.isDirty=!0,a.redraw()),a.isDirtyData=!!a.linkedSeries},o.prototype.processData=function(){var t=this,o=t.options.compareToMain,n=t.linkedParent;e.prototype.processData.apply(t,arguments),t.dataModify&&n&&n.dataModify&&n.dataModify.compareValue&&o&&(t.dataModify.compareValue=n.dataModify.compareValue)},o.defaultOptions=u(i.defaultOptions,{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:3,period:14}}),o}(i);return p(h.prototype,{calculateOn:{chart:"init"},hasDerivedData:!0,nameComponents:["period"],nameSuffixes:[],useCommonDataGrouping:!0}),e.registerSeriesType("sma",h),h}),o(e,"Stock/Indicators/EMA/EMAIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.correctFloat,s=e.isArray,a=e.merge,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.accumulatePeriodPoints=function(t,e,o){for(var n=0,r=0,i=0;r<t;)n+=e<0?o[r]:o[r][e],r++;return n},e.prototype.calculateEma=function(t,e,o,n,r,s,a){var p=t[o-1],l=s<0?e[o-1]:e[o-1][s],u=void 0===r?a:i(l*n+r*(1-n));return[p,u]},e.prototype.getValues=function(t,e){var o,n,r,i=e.period,a=t.xData,p=t.yData,l=p?p.length:0,u=2/(i+1),c=[],d=[],h=[],y=-1,f=0,v=0;if(!(l<i)){for(s(p[0])&&(y=e.index?e.index:0),v=this.accumulatePeriodPoints(i,y,p)/i,r=i;r<l+1;r++)n=this.calculateEma(a,p,r,u,o,y,v),c.push(n),d.push(n[0]),h.push(n[1]),o=n[1];return{values:c,xData:d,yData:h}}},e.defaultOptions=a(r.defaultOptions,{params:{index:3,period:9}}),e}(r);return t.registerSeriesType("ema",p),p}),o(e,"Stock/Indicators/AD/ADIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.error,s=e.extend,a=e.merge,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.populateAverage=function(t,e,o,n,r){var i=e[n][1],s=e[n][2],a=e[n][3],p=o[n];return[t[n],a===i&&a===s||i===s?0:(2*a-s-i)/(i-s)*p]},e.prototype.getValues=function(t,o){var n,r,s,a=o.period,p=t.xData,l=t.yData,u=o.volumeSeriesID,c=t.chart.get(u),d=c&&c.yData,h=l?l.length:0,y=[],f=[],v=[];if(!(p.length<=a)||!h||4===l[0].length){if(!c){i("Series "+u+" not found! Check `volumeSeriesID`.",!0,t.chart);return}for(r=a;r<h;r++)n=y.length,s=e.populateAverage(p,l,d,r,a),n>0&&(s[1]+=y[n-1][1]),y.push(s),f.push(s[0]),v.push(s[1]);return{values:y,xData:f,yData:v}}},e.defaultOptions=a(r.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),e}(r);return s(p.prototype,{nameComponents:!1,nameBase:"Accumulation/Distribution"}),t.registerSeriesType("ad",p),p}),o(e,"Stock/Indicators/AO/AOIndicator.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.noop,s=e.seriesTypes,a=s.column.prototype,p=s.sma,l=o.extend,u=o.merge,c=o.correctFloat,d=o.isArray,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return r(e,t),e.prototype.drawGraph=function(){var t,e=this.options,o=this.points,n=this.userOptions.color,r=e.greaterBarColor,i=e.lowerBarColor,s=o[0];if(!n&&s)for(t=1,s.color=r;t<o.length;t++)o[t].y>o[t-1].y?o[t].color=r:o[t].y<o[t-1].y?o[t].color=i:o[t].color=o[t-1].color},e.prototype.getValues=function(t){var e,o,n,r,i,s,a,p=t.xData||[],l=t.yData||[],u=l.length,h=[],y=[],f=[],v=0,g=0;if(!(p.length<=34)&&d(l[0])&&4===l[0].length){for(s=0;s<33;s++)i=(l[s][1]+l[s][2])/2,s>=29&&(v=c(v+i)),g=c(g+i);for(a=33;a<u;a++)v=c(v+(i=(l[a][1]+l[a][2])/2)),g=c(g+i),o=c((e=v/5)-g/34),h.push([p[a],o]),y.push(p[a]),f.push(o),n=a+1-5,r=a+1-34,v=c(v-(l[n][1]+l[n][2])/2),g=c(g-(l[r][1]+l[r][2])/2);return{values:h,xData:y,yData:f}}},e.defaultOptions=u(p.defaultOptions,{params:{index:void 0,period:void 0},greaterBarColor:"#06b535",lowerBarColor:"#f21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}}),e}(p);return l(h.prototype,{nameBase:"AO",nameComponents:!1,markerAttribs:i,getColumnMetrics:a.getColumnMetrics,crispCol:a.crispCol,translate:a.translate,drawPoints:a.drawPoints}),e.registerSeriesType("ao",h),h}),o(e,"Stock/Indicators/MultipleLinesComposition.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=t.seriesTypes.sma.prototype,r=e.defined,i=e.error,s=e.merge;return function(t){var e=[],o=["bottomLine"],a=["top","bottom"],p=["top"];function l(t){return"plot"+t.charAt(0).toUpperCase()+t.slice(1)}function u(t,e){var o=[];return(t.pointArrayMap||[]).forEach(function(t){t!==e&&o.push(l(t))}),o}function c(){var t,e=this,o=e.pointValKey,a=e.linesApiNames,p=e.areaLinesNames,c=e.points,d=e.options,h=e.graph,y={options:{gapSize:d.gapSize}},f=[],v=u(e,o),g=c.length;if(v.forEach(function(e,o){for(f[o]=[];g--;)t=c[g],f[o].push({x:t.x,plotX:t.plotX,plotY:t[e],isNull:!r(t[e])});g=c.length}),e.userOptions.fillColor&&p.length){var m=f[v.indexOf(l(p[0]))],_=1===p.length?c:f[v.indexOf(l(p[1]))],x=e.color;e.points=_,e.nextPoints=m,e.color=e.userOptions.fillColor,e.options=s(c,y),e.graph=e.area,e.fillGraph=!0,n.drawGraph.call(e),e.area=e.graph,delete e.nextPoints,delete e.fillGraph,e.color=x}a.forEach(function(t,o){f[o]?(e.points=f[o],d[t]?e.options=s(d[t].styles,y):i('Error: "There is no '+t+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names."'),e.graph=e["graph"+t],n.drawGraph.call(e),e["graph"+t]=e.graph):i('Error: "'+t+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),e.points=c,e.options=d,e.graph=h,n.drawGraph.call(e)}function d(t){var e,o=[],r=[];if(t=t||this.points,this.fillGraph&&this.nextPoints){if((e=n.getGraphPath.call(this,this.nextPoints))&&e.length){e[0][0]="L",o=n.getGraphPath.call(this,t),r=e.slice(0,o.length);for(var i=r.length-1;i>=0;i--)o.push(r[i])}}else o=n.getGraphPath.apply(this,arguments);return o}function h(t){var e=[];return(this.pointArrayMap||[]).forEach(function(o){e.push(t[o])}),e}function y(){var t,e=this,o=this.pointArrayMap,r=[];r=u(this),n.translate.apply(this,arguments),this.points.forEach(function(n){o.forEach(function(o,i){t=n[o],e.dataModify&&(t=e.dataModify.modifyValue(t)),null!==t&&(n[r[i]]=e.yAxis.toPixels(t,!0))})})}t.compose=function(t){if(-1===e.indexOf(t)){e.push(t);var n=t.prototype;n.linesApiNames=n.linesApiNames||o.slice(),n.pointArrayMap=n.pointArrayMap||a.slice(),n.pointValKey=n.pointValKey||"top",n.areaLinesNames=n.areaLinesNames||p.slice(),n.drawGraph=c,n.getGraphPath=d,n.toYData=h,n.translate=y}return t}}(o||(o={})),o}),o(e,"Stock/Indicators/Aroon/AroonIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=e.seriesTypes.sma,s=o.extend,a=o.merge,p=o.pick;function l(t,e){var o,n=t[0],r=0;for(o=1;o<t.length;o++)("max"===e&&t[o]>=n||"min"===e&&t[o]<=n)&&(n=t[o],r=o);return r}var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return r(e,t),e.prototype.getValues=function(t,e){var o,n,r,i,s,a,u=e.period,c=t.xData,d=t.yData,h=d?d.length:0,y=[],f=[],v=[];for(a=u-1;a<h;a++)i=l((o=d.slice(a-u+1,a+2)).map(function(t){return p(t[2],t)}),"min"),n=l(o.map(function(t){return p(t[1],t)}),"max")/u*100,r=i/u*100,c[a+1]&&(y.push([c[a+1],n,r]),f.push(c[a+1]),v.push([n,r]));return{values:y,xData:f,yData:v}},e.defaultOptions=a(i.defaultOptions,{params:{index:void 0,period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),e}(i);return s(u.prototype,{areaLinesNames:[],linesApiNames:["aroonDown"],nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y"}),t.compose(u),e.registerSeriesType("aroon",u),u}),o(e,"Stock/Indicators/AroonOscillator/AroonOscillatorIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=e.seriesTypes.aroon,s=o.extend,a=o.merge,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return r(e,t),e.prototype.getValues=function(e,o){var n,r,i,s,a,p=[],l=[],u=[];for(a=0,n=t.prototype.getValues.call(this,e,o);a<n.yData.length;a++)s=(r=n.yData[a][0])-n.yData[a][1],p.push([n.xData[a],s]),l.push(n.xData[a]),u.push(s);return{values:p,xData:l,yData:u}},e.defaultOptions=a(i.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b>: {point.y}'}}),e}(i);return s(p.prototype,{nameBase:"Aroon Oscillator",linesApiNames:[],pointArrayMap:["y"],pointValKey:"y"}),t.compose(i),e.registerSeriesType("aroonoscillator",p),p}),o(e,"Stock/Indicators/ATR/ATRIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.isArray,s=e.merge;function a(t,e,o,n){var r=e[n],i=o[n];t.push([r,i])}function p(t,e){var o,n=t[1]-t[2];return Math.max(n,void 0===e?0:Math.abs(t[1]-e[3]),void 0===e?0:Math.abs(t[2]-e[3]))}function l(t,e,o,n,r,i){var s=e[n-1],a=p(o[n-1],o[n-2]);return[s,(i*(r-1)+a)/r]}var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.points=void 0,e.options=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o,n,r,s=e.period,u=t.xData,c=t.yData,d=c?c.length:0,h=u[0],y=c[0],f=1,v=0,g=0,m=[],_=[],x=[];if(r=[[h,y]],!(u.length<=s)&&i(c[0])&&4===c[0].length){for(n=1;n<=d;n++)a(r,u,c,n),s<f?(v=(o=l(r,u,c,n,s,v))[1],m.push(o),_.push(o[0]),x.push(o[1])):s===f?(v=g/(n-1),m.push([u[n-1],v]),_.push(u[n-1]),x.push(v),f++):(g+=p(c[n-1],c[n-2]),f++);return{values:m,xData:_,yData:x}}},e.defaultOptions=s(r.defaultOptions,{params:{index:void 0}}),e}(r);return t.registerSeriesType("atr",u),u}),o(e,"Stock/Indicators/BB/BBIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=e.seriesTypes.sma,s=o.extend,a=o.isArray,p=o.merge;function l(t,e,o,n){for(var r,i=0,s=t.length,a=0;a<s;a++)i+=(r=(o?t[a][e]:t[a])-n)*r;return Math.sqrt(i/=s-1)}var u=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return r(o,t),o.prototype.init=function(){e.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=p({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},o.prototype.getValues=function(t,o){var n,r,i,s,p,u,c,d,h,y,f=o.period,v=o.standardDeviation,g=t.xData,m=t.yData,_=m?m.length:0,x=[],D=[],S=[];if(!(g.length<f)){for(d=a(m[0]),y=f;y<=_;y++)p=g.slice(y-f,y),u=m.slice(y-f,y),s=(h=e.seriesTypes.sma.prototype.getValues.call(this,{xData:p,yData:u},o)).xData[0],n=h.yData[0],c=l(u,o.index,d,n),r=n+v*c,i=n-v*c,x.push([s,r,n,i]),D.push(s),S.push([r,n,i]);return{values:x,xData:D,yData:S}}},o.defaultOptions=p(i.defaultOptions,{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),o}(i);return s(u.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameComponents:["period","standardDeviation"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),t.compose(u),e.registerSeriesType("bb",u),u}),o(e,"Stock/Indicators/CCI/CCIIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.isArray,s=e.merge;function a(t){return t.reduce(function(t,e){return t+e},0)}function p(t,e){var o,n=t.length,r=0;for(o=0;o<n;o++)r+=Math.abs(e-t[o]);return r}var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.points=void 0,e.options=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o,n,r,s,l,u,c,d=e.period,h=t.xData,y=t.yData,f=y?y.length:0,v=[],g=[],m=[],_=[],x=[],D=1;if(!(h.length<=d)&&i(y[0])&&4===y[0].length){for(;D<d;)n=y[D-1],v.push((n[1]+n[2]+n[3])/3),D++;for(c=d;c<=f;c++)l=((n=y[c-1])[1]+n[2]+n[3])/3,r=v.push(l),s=a(x=v.slice(r-d))/d,u=p(x,s)/d,o=(l-s)/(.015*u),g.push([h[c-1],o]),m.push(h[c-1]),_.push(o);return{values:g,xData:m,yData:_}}},e.defaultOptions=s(r.defaultOptions,{params:{index:void 0}}),e}(r);return t.registerSeriesType("cci",l),l}),o(e,"Stock/Indicators/CMF/CMFIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.merge,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e.volumeSeries=void 0,e.linkedParent=void 0,e.yData=void 0,e.nameBase="Chaikin Money Flow",e}return n(e,t),e.prototype.isValid=function(){var t=this.chart,e=this.options,o=this.linkedParent,n=this.volumeSeries||(this.volumeSeries=t.get(e.params.volumeSeriesID)),r=o&&o.yData&&4===o.yData[0].length;function i(t){return t.xData&&t.xData.length>=e.params.period}return!!(o&&n&&i(o)&&i(n)&&r)},e.prototype.getValues=function(t,e){if(this.isValid())return this.getMoneyFlow(t.xData,t.yData,this.volumeSeries.yData,e.period)},e.prototype.getMoneyFlow=function(t,e,o,n){var r,i,s=e.length,a=[],p=0,l=0,u=[],c=[],d=[],h=-1;function y(t,e){var o,n,i,s=t[1],a=t[2],p=t[3];return null!==e&&null!==s&&null!==a&&null!==p&&s!==a?(p-a-(s-p))/(s-a)*e:(h=r,null)}if(n>0&&n<=s){for(r=0;r<n;r++)a[r]=y(e[r],o[r]),p+=o[r],l+=a[r];for(u.push(t[r-1]),c.push(r-h>=n&&0!==p?l/p:null),d.push([u[0],c[0]]);r<s;r++)a[r]=y(e[r],o[r]),p-=o[r-n],p+=o[r],l-=a[r-n],l+=a[r],i=[t[r],r-h>=n?l/p:null],u.push(i[0]),c.push(i[1]),d.push([i[0],i[1]])}return{values:d,xData:u,yData:c}},e.defaultOptions=i(r.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),e}(r);return t.registerSeriesType("cmf",s),s}),o(e,"Stock/Indicators/DMI/DMIIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=e.seriesTypes.sma,s=o.correctFloat,a=o.extend,p=o.isArray,l=o.merge,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=void 0,e}return r(e,t),e.prototype.calculateDM=function(t,e,o){var n=t[e][1],r=t[e][2],i=t[e-1][1],a=t[e-1][2];return s(n-i>a-r?o?Math.max(n-i,0):0:o?0:Math.max(a-r,0))},e.prototype.calculateDI=function(t,e){return t/e*100},e.prototype.calculateDX=function(t,e){return s(Math.abs(t-e)/Math.abs(t+e)*100)},e.prototype.smoothValues=function(t,e,o){return s(t-t/o+e)},e.prototype.getTR=function(t,e){return s(Math.max(t[1]-t[2],e?Math.abs(t[1]-e[3]):0,e?Math.abs(t[2]-e[3]):0))},e.prototype.getValues=function(t,e){var o=e.period,n=t.xData,r=t.yData,i=r?r.length:0,s=[],a=[],l=[];if(!(n.length<=o)&&p(r[0])&&4===r[0].length){var u,c=0,d=0,h=0;for(u=1;u<i;u++){var y=void 0,f=void 0,v=void 0,g=void 0,m=void 0,_=void 0,x=void 0,D=void 0,S=void 0;u<=o?(g=this.calculateDM(r,u,!0),m=this.calculateDM(r,u),_=this.getTR(r[u],r[u-1]),c+=g,d+=m,h+=_,u===o&&(x=this.calculateDI(c,h),D=this.calculateDI(d,h),S=this.calculateDX(c,d),s.push([n[u],S,x,D]),a.push(n[u]),l.push([S,x,D]))):(g=this.calculateDM(r,u,!0),m=this.calculateDM(r,u),_=this.getTR(r[u],r[u-1]),y=this.smoothValues(c,g,o),f=this.smoothValues(d,m,o),v=this.smoothValues(h,_,o),c=y,d=f,h=v,x=this.calculateDI(c,h),D=this.calculateDI(d,h),S=this.calculateDX(c,d),s.push([n[u],S,x,D]),a.push(n[u]),l.push([S,x,D]))}return{values:s,xData:a,yData:l}}},e.defaultOptions=l(i.defaultOptions,{params:{index:void 0},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color: {point.color}">●</span><b> {series.name}</b><br/><span style="color: {point.color}">DX</span>: {point.y}<br/><span style="color: {point.series.options.plusDILine.styles.lineColor}">+DI</span>: {point.plusDI}<br/><span style="color: {point.series.options.minusDILine.styles.lineColor}">-DI</span>: {point.minusDI}<br/>'},plusDILine:{styles:{lineWidth:1,lineColor:"#06b535"}},minusDILine:{styles:{lineWidth:1,lineColor:"#f21313"}},dataGrouping:{approximation:"averages"}}),e}(i);return a(u.prototype,{areaLinesNames:[],nameBase:"DMI",linesApiNames:["plusDILine","minusDILine"],pointArrayMap:["y","plusDI","minusDI"],parallelArrays:["x","y","plusDI","minusDI"],pointValKey:"y"}),t.compose(u),e.registerSeriesType("dmi",u),u}),o(e,"Stock/Indicators/DPO/DPOIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.extend,s=e.merge,a=e.correctFloat,p=e.pick;function l(t,e,o,n,r){var i=p(e[o][n],e[o]);return r?a(t-i):a(t+i)}var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=void 0,e.data=void 0,e.points=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o,n,r,i,s,a,u=e.period,c=e.index,d=u+Math.floor(u/2+1),h=t.xData||[],y=t.yData||[],f=y.length,v=[],g=[],m=[],_=0;if(!(h.length<=d)){for(s=0;s<u-1;s++)_=l(_,y,s,c);for(a=0;a<=f-d;a++)n=a+u-1,r=a+d-1,_=l(_,y,n,c),o=p(y[r][c],y[r])-_/u,_=l(_,y,a,c,!0),v.push([h[r],o]),g.push(h[r]),m.push(o);return{values:v,xData:g,yData:m}}},e.defaultOptions=s(r.defaultOptions,{params:{index:0,period:21}}),e}(r);return i(u.prototype,{nameBase:"DPO"}),t.registerSeriesType("dpo",u),u}),o(e,"Stock/Indicators/Chaikin/ChaikinIndicator.js",[e["Stock/Indicators/AD/ADIndicator.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=e.seriesTypes.ema,s=o.correctFloat,a=o.extend,p=o.merge,l=o.error,u=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return r(o,e),o.prototype.getValues=function(e,o){var n,r,a,p,u,c,d=o.periods,h=o.period,y=[],f=[],v=[];if(2!==d.length||d[1]<=d[0]){l('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."');return}if(n=t.prototype.getValues.call(this,e,{volumeSeriesID:o.volumeSeriesID,period:h})){if(a=i.prototype.getValues.call(this,n,{period:d[0]}),p=i.prototype.getValues.call(this,n,{period:d[1]}),a&&p){for(c=0,r=d[1]-d[0];c<p.yData.length;c++)u=s(a.yData[c+r]-p.yData[c]),y.push([p.xData[c],u]),f.push(p.xData[c]),v.push(u);return{values:y,xData:f,yData:v}}}},o.defaultOptions=p(i.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",period:9,periods:[3,10]}}),o}(i);return a(u.prototype,{nameBase:"Chaikin Osc",nameComponents:["periods"]}),e.registerSeriesType("chaikin",u),u}),o(e,"Stock/Indicators/CMO/CMOIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.isNumber,s=e.merge,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o,n,r=e.period,s=t.xData,a=t.yData,p=a?a.length:0,l=[],u=[],c=[],d=e.index;if(!(s.length<r)){i(a[0])?n=a:(d=Math.min(d,a[0].length-1),n=a.map(function(t){return t[d]}));for(var h,y=0,f=0,v=0,g=r;g>0;g--)n[g]>n[g-1]?f+=n[g]-n[g-1]:n[g]<n[g-1]&&(v+=n[g-1]-n[g]);for(h=f+v>0?100*(f-v)/(f+v):0,u.push(s[r]),c.push(h),l.push([s[r],h]),o=r+1;o<p;o++)y=Math.abs(n[o-r-1]-n[o-r]),n[o]>n[o-1]?f+=n[o]-n[o-1]:n[o]<n[o-1]&&(v+=n[o-1]-n[o]),n[o-r]>n[o-r-1]?f-=y:v-=y,h=f+v>0?100*(f-v)/(f+v):0,u.push(s[o]),c.push(h),l.push([s[o],h]);return{values:l,xData:u,yData:c}}},e.defaultOptions=s(r.defaultOptions,{params:{period:20,index:3}}),e}(r);return t.registerSeriesType("cmo",a),a}),o(e,"Stock/Indicators/DEMA/DEMAIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.ema,i=e.correctFloat,s=e.isArray,a=e.merge,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EMApercent=void 0,e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.getEMA=function(e,o,n,r,i,s){return t.prototype.calculateEma.call(this,s||[],e,void 0===i?1:i,this.EMApercent,o,void 0===r?-1:r,n)},e.prototype.getValues=function(e,o){var n,r,a,p,l,u=o.period,c=[],d=2*u,h=e.xData,y=e.yData,f=y?y.length:0,v=[],g=[],m=[],_=0,x=0,D=-1,S=0;if(this.EMApercent=2/(u+1),!(f<2*u-1)){for(s(y[0])&&(D=o.index?o.index:0),S=(_=t.prototype.accumulatePeriodPoints.call(this,u,D,y))/u,_=0,p=u;p<f+2;p++)p<f+1&&(x=this.getEMA(y,r,S,D,p)[1],c.push(x)),r=x,p<d?_+=x:(p===d&&(S=_/u),x=c[p-u-1],n=this.getEMA([x],a,S)[1],l=[h[p-2],i(2*x-n)],v.push(l),g.push(l[0]),m.push(l[1]),a=n);return{values:v,xData:g,yData:m}}},e.defaultOptions=a(r.defaultOptions),e}(r);return t.registerSeriesType("dema",p),p}),o(e,"Stock/Indicators/TEMA/TEMAIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.ema,i=e.correctFloat,s=e.isArray,a=e.merge,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EMApercent=void 0,e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.getEMA=function(t,e,o,n,i,s){return r.prototype.calculateEma(s||[],t,void 0===i?1:i,this.EMApercent,e,void 0===n?-1:n,o)},e.prototype.getTemaPoint=function(t,e,o,n){return[t[n-3],i(3*o.level1-3*o.level2+o.level3)]},e.prototype.getValues=function(t,e){var o,n,i,a,p=e.period,l=2*p,u=3*p,c=t.xData,d=t.yData,h=d?d.length:0,y=-1,f=0,v=0,g=[],m=[],_=[],x=[],D=[],S={};if(this.EMApercent=2/(p+1),!(h<3*p-2)){for(s(d[0])&&(y=e.index?e.index:0),v=(f=r.prototype.accumulatePeriodPoints(p,y,d))/p,f=0,i=p;i<h+3;i++)i<h+1&&(S.level1=this.getEMA(d,o,v,y,i)[1],x.push(S.level1)),o=S.level1,i<l?f+=S.level1:(i===l&&(v=f/p,f=0),S.level1=x[i-p-1],S.level2=this.getEMA([S.level1],n,v)[1],D.push(S.level2),n=S.level2,i<u?f+=S.level2:(i===u&&(v=f/p),i===h+1&&(S.level1=x[i-p-1],S.level2=this.getEMA([S.level1],n,v)[1],D.push(S.level2)),S.level1=x[i-p-2],S.level2=D[i-2*p-1],S.level3=this.getEMA([S.level2],S.prevLevel3,v)[1],(a=this.getTemaPoint(c,u,S,i))&&(g.push(a),m.push(a[0]),_.push(a[1])),S.prevLevel3=S.level3));return{values:g,xData:m,yData:_}}},e.defaultOptions=a(r.defaultOptions),e}(r);return t.registerSeriesType("tema",p),p}),o(e,"Stock/Indicators/TRIX/TRIXIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.tema,i=e.correctFloat,s=e.merge,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.getTemaPoint=function(t,e,o,n){if(n>e)return[t[n-3],0!==o.prevLevel3?i(o.level3-o.prevLevel3)/o.prevLevel3*100:null]},e.defaultOptions=s(r.defaultOptions),e}(r);return t.registerSeriesType("trix",a),a}),o(e,"Stock/Indicators/APO/APOIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.ema,i=e.extend,s=e.merge,a=e.error,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o,n,i,s,p,l=e.periods,u=e.index,c=[],d=[],h=[];if(2!==l.length||l[1]<=l[0]){a('Error: "APO requires two periods. Notice, first period should be lower than the second one."');return}if(n=r.prototype.getValues.call(this,t,{index:u,period:l[0]}),i=r.prototype.getValues.call(this,t,{index:u,period:l[1]}),n&&i){for(p=0,o=l[1]-l[0];p<i.yData.length;p++)s=n.yData[p+o]-i.yData[p],c.push([i.xData[p],s]),d.push(i.xData[p]),h.push(s);return{values:c,xData:d,yData:h}}},e.defaultOptions=s(r.defaultOptions,{params:{period:void 0,periods:[10,20]}}),e}(r);return i(p.prototype,{nameBase:"APO",nameComponents:["periods"]}),t.registerSeriesType("apo",p),p}),o(e,"Stock/Indicators/IKH/IKHIndicator.js",[e["Extensions/DataGrouping/ApproximationRegistry.js"],e["Core/Color/Color.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o,n){var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=e.parse,a=o.seriesTypes.sma,p=n.defined,l=n.extend,u=n.isArray,c=n.isNumber,d=n.merge,h=n.objectEach;function y(t){var e,o;return{high:t.reduce(function(t,e){return Math.max(t,e[1])},-1/0),low:t.reduce(function(t,e){return Math.min(t,e[2])},1/0)}}function f(t,e,o,n){if(t&&e&&o&&n){var r=e.plotX-t.plotX,i=e.plotY-t.plotY,s=n.plotX-o.plotX,a=n.plotY-o.plotY,p=t.plotX-o.plotX,l=t.plotY-o.plotY,u=(-i*p+r*l)/(-s*i+r*a),c=(s*l-a*p)/(-s*i+r*a);if(u>=0&&u<=1&&c>=0&&c<=1)return{plotX:t.plotX+c*r,plotY:t.plotY+c*i}}}function v(t){var e=t.indicator;e.points=t.points,e.nextPoints=t.nextPoints,e.color=t.color,e.options=d(t.options.senkouSpan.styles,t.gap),e.graph=t.graph,e.fillGraph=!0,o.seriesTypes.sma.prototype.drawGraph.call(e)}var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=[],e.options={},e.points=[],e.graphCollection=[],e}return i(e,t),e.prototype.init=function(){t.prototype.init.apply(this,arguments),this.options=d({tenkanLine:{styles:{lineColor:this.color}},kijunLine:{styles:{lineColor:this.color}},chikouLine:{styles:{lineColor:this.color}},senkouSpanA:{styles:{lineColor:this.color,fill:s(this.color).setOpacity(.5).get()}},senkouSpanB:{styles:{lineColor:this.color,fill:s(this.color).setOpacity(.5).get()}},senkouSpan:{styles:{fill:s(this.color).setOpacity(.2).get()}}},this.options)},e.prototype.toYData=function(t){return[t.tenkanSen,t.kijunSen,t.chikouSpan,t.senkouSpanA,t.senkouSpanB]},e.prototype.translate=function(){o.seriesTypes.sma.prototype.translate.apply(this);for(var t=0,e=this.points;t<e.length;t++)for(var n=e[t],r=0,i=this.pointArrayMap;r<i.length;r++){var s=i[r],a=n[s];c(a)&&(n["plot"+s]=this.yAxis.toPixels(a,!0),n.plotY=n["plot"+s],n.tooltipPos=[n.plotX,n["plot"+s]],n.isNull=!1)}},e.prototype.drawGraph=function(){var t,e,n,r,i,s,a,l,u,c,y,g,m,_=this,x=_.points,D=_.options,S=_.graph,O=_.color,C={options:{gapSize:D.gapSize}},A=_.pointArrayMap.length,P=[[],[],[],[],[],[]],b={tenkanLine:P[0],kijunLine:P[1],chikouLine:P[2],senkouSpanA:P[3],senkouSpanB:P[4],senkouSpan:P[5]},j=[],I=_.options.senkouSpan,T=I.color||I.styles.fill,k=I.negativeColor,w=[[],[]],M=[[],[]],L=x.length,V=0;for(_.ikhMap=b;L--;){for(n=0,e=x[L];n<A;n++)p(e[t=_.pointArrayMap[n]])&&P[n].push({plotX:e.plotX,plotY:e["plot"+t],isNull:!1});if(k&&L!==x.length-1){var E=b.senkouSpanB.length-1,R=f(b.senkouSpanA[E-1],b.senkouSpanA[E],b.senkouSpanB[E-1],b.senkouSpanB[E]);if(R){var B={plotX:R.plotX,plotY:R.plotY,isNull:!1,intersectPoint:!0};b.senkouSpanA.splice(E,0,B),b.senkouSpanB.splice(E,0,B),j.push(E)}}}if(h(b,function(t,e){D[e]&&"senkouSpan"!==e&&(_.points=P[V],_.options=d(D[e].styles,C),_.graph=_["graph"+e],_.fillGraph=!1,_.color=O,o.seriesTypes.sma.prototype.drawGraph.call(_),_["graph"+e]=_.graph),V++}),_.graphCollection)for(var N=0,U=_.graphCollection;N<U.length;N++){var G=U[N];_[G].destroy(),delete _[G]}if(_.graphCollection=[],k&&b.senkouSpanA[0]&&b.senkouSpanB[0]){for(j.unshift(0),j.push(b.senkouSpanA.length-1),g=0;g<j.length-1;g++)if(r=j[g],i=j[g+1],s=b.senkouSpanB.slice(r,i+1),a=b.senkouSpanA.slice(r,i+1),Math.floor(s.length/2)>=1){var W=Math.floor(s.length/2);if(s[W].plotY===a[W].plotY){for(m=0,l=0,u=0;m<s.length;m++)l+=s[m].plotY,u+=a[m].plotY;w[y=l>u?0:1]=w[y].concat(s),M[y]=M[y].concat(a)}else w[y=s[W].plotY>a[W].plotY?0:1]=w[y].concat(s),M[y]=M[y].concat(a)}else w[y=s[0].plotY>a[0].plotY?0:1]=w[y].concat(s),M[y]=M[y].concat(a);["graphsenkouSpanColor","graphsenkouSpanNegativeColor"].forEach(function(t,e){w[e].length&&M[e].length&&(c=0===e?T:k,v({indicator:_,points:w[e],nextPoints:M[e],color:c,options:D,gap:C,graph:_[t]}),_[t]=_.graph,_.graphCollection.push(t))})}else v({indicator:_,points:b.senkouSpanB,nextPoints:b.senkouSpanA,color:T,options:D,gap:C,graph:_.graphsenkouSpan}),_.graphsenkouSpan=_.graph;delete _.nextPoints,delete _.fillGraph,_.points=x,_.options=D,_.graph=S,_.color=O},e.prototype.getGraphPath=function(t){var e,n=[],r=[];if(t=t||this.points,this.fillGraph&&this.nextPoints){if((e=o.seriesTypes.sma.prototype.getGraphPath.call(this,this.nextPoints))&&e.length){e[0][0]="L",n=o.seriesTypes.sma.prototype.getGraphPath.call(this,t),r=e.slice(0,n.length);for(var i=r.length-1;i>=0;i--)n.push(r[i])}}else n=o.seriesTypes.sma.prototype.getGraphPath.apply(this,arguments);return n},e.prototype.getValues=function(t,e){var o,n,r,i,s,a,p,l,c,d,h,f,v,g,m,_,x,D,S,O=e.period,C=e.periodTenkan,A=e.periodSenkouSpanB,P=t.xData,b=t.yData,j=t.xAxis,I=b&&b.length||0,T=(j.series.forEach(function(t){if(t.xData)for(s=t.xData,a=r=t.xIncrement?1:s.length-1;a>0;a--)i=s[a]-s[a-1],(void 0===n||i<n)&&(n=i)}),n),k=[],w=[];if(!(P.length<=O)&&u(b[0])&&4===b[0].length){var M=P[0]-O*T;for(g=0;g<O;g++)w.push(M+g*T);for(g=0;g<I;g++)g>=C&&(m=((h=y(b.slice(g-C,g))).high+h.low)/2),g>=O&&(_=((f=y(b.slice(g-O,g))).high+f.low)/2,D=(m+_)/2),g>=A&&(S=((v=y(b.slice(g-A,g))).high+v.low)/2),x=b[g][3],p=P[g],void 0===k[g]&&(k[g]=[]),void 0===k[g+O-1]&&(k[g+O-1]=[]),k[g+O-1][0]=m,k[g+O-1][1]=_,k[g+O-1][2]=void 0,void 0===k[g+1]&&(k[g+1]=[]),k[g+1][2]=x,g<=O&&(k[g+O-1][3]=void 0,k[g+O-1][4]=void 0),void 0===k[g+2*O-2]&&(k[g+2*O-2]=[]),k[g+2*O-2][3]=D,k[g+2*O-2][4]=S,w.push(p);for(g=1;g<=O;g++)w.push(p+g*T);return{values:k,xData:w,yData:k}}},e.defaultOptions=d(a.defaultOptions,{params:{index:void 0,period:26,periodTenkan:9,periodSenkouSpanB:52},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>TENKAN SEN: {point.tenkanSen:.3f}<br/>KIJUN SEN: {point.kijunSen:.3f}<br/>CHIKOU SPAN: {point.chikouSpan:.3f}<br/>SENKOU SPAN A: {point.senkouSpanA:.3f}<br/>SENKOU SPAN B: {point.senkouSpanB:.3f}<br/>'},tenkanLine:{styles:{lineWidth:1,lineColor:void 0}},kijunLine:{styles:{lineWidth:1,lineColor:void 0}},chikouLine:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanA:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanB:{styles:{lineWidth:1,lineColor:void 0}},senkouSpan:{styles:{fill:"rgba(255, 0, 0, 0.5)"}},dataGrouping:{approximation:"ichimoku-averages"}}),e}(a);return l(g.prototype,{pointArrayMap:["tenkanSen","kijunSen","chikouSpan","senkouSpanA","senkouSpanB"],pointValKey:"tenkanSen",nameComponents:["periodSenkouSpanB","period","periodTenkan"]}),t["ichimoku-averages"]=function(){var e,o=[];return[].forEach.call(arguments,function(n,r){o.push(t.average(n)),e=!e&&void 0===o[r]}),e?void 0:o},o.registerSeriesType("ikh",g),g}),o(e,"Stock/Indicators/KeltnerChannels/KeltnerChannelsIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=e.seriesTypes.sma,s=o.correctFloat,a=o.extend,p=o.merge,l=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return r(o,t),o.prototype.init=function(){e.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=p({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},o.prototype.getValues=function(t,o){var n,r,i,a,p,l,u,c=o.period,d=o.periodATR,h=o.multiplierATR,y=o.index,f=t.yData,v=f?f.length:0,g=[],m=e.seriesTypes.ema.prototype.getValues(t,{period:c,index:y}),_=e.seriesTypes.atr.prototype.getValues(t,{period:d}),x=[],D=[];if(!(v<c)){for(u=c;u<=v;u++)p=m.values[u-c],l=_.values[u-d],a=p[0],r=s(p[1]+h*l[1]),i=s(p[1]-h*l[1]),n=p[1],g.push([a,r,n,i]),x.push(a),D.push([r,n,i]);return{values:g,xData:x,yData:D}}},o.defaultOptions=p(i.defaultOptions,{params:{index:0,period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1}),o}(i);return a(l.prototype,{nameBase:"Keltner Channels",areaLinesNames:["top","bottom"],nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),t.compose(l),e.registerSeriesType("keltnerchannels",l),l}),o(e,"Stock/Indicators/Klinger/KlingerIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=e.seriesTypes,s=i.ema,a=i.sma,p=o.correctFloat,l=o.error,u=o.extend,c=o.isArray,d=o.merge,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.points=void 0,e.options=void 0,e.volumeSeries=void 0,e}return r(e,t),e.prototype.calculateTrend=function(t,e){return t[e][1]+t[e][2]+t[e][3]>t[e-1][1]+t[e-1][2]+t[e-1][3]?1:-1},e.prototype.isValidData=function(t){var e=this.chart,o=this.options,n=this.linkedParent,r=c(t)&&4===t.length,i=this.volumeSeries||(this.volumeSeries=e.get(o.params.volumeSeriesID));return i||l("Series "+o.params.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,n.chart),!!([n,i].every(function(t){return t&&t.xData&&t.xData.length>=o.params.slowAvgPeriod})&&r)},e.prototype.getCM=function(t,e,o,n,r){return p(e+(o===n?t:r))},e.prototype.getDM=function(t,e){return p(t-e)},e.prototype.getVolumeForce=function(t){for(var e,o,n,r=[],i=0,s=1,a=0,p=t[0][1]-t[0][2],l=0;s<t.length;s++)n=this.calculateTrend(t,s),e=this.getDM(t[s][1],t[s][2]),i=this.getCM(a,e,n,l,p),o=this.volumeSeries.yData[s]*n*Math.abs(2*(e/i-1))*100,r.push([o]),l=n,a=i,p=e;return r},e.prototype.getEMA=function(t,e,o,n,r,i,a){return s.prototype.calculateEma(a||[],t,void 0===i?1:i,n,e,void 0===r?-1:r,o)},e.prototype.getSMA=function(t,e,o){return s.prototype.accumulatePeriodPoints(t,e,o)/t},e.prototype.getValues=function(t,e){var o,n,r=[],i=t.xData,s=t.yData,a=[],l=[],u=[],c=0,d=0,h=void 0,y=void 0,f=null;if(this.isValidData(s[0])){for(var v=this.getVolumeForce(s),g=this.getSMA(e.fastAvgPeriod,0,v),m=this.getSMA(e.slowAvgPeriod,0,v),_=2/(e.fastAvgPeriod+1),x=2/(e.slowAvgPeriod+1);c<s.length;c++)c>=e.fastAvgPeriod&&(h=d=this.getEMA(v,h,g,_,0,c,i)[1]),c>=e.slowAvgPeriod&&(y=n=this.getEMA(v,y,m,x,0,c,i)[1],o=p(d-n),u.push(o),u.length>=e.signalPeriod&&(f=u.slice(-e.signalPeriod).reduce(function(t,e){return t+e})/e.signalPeriod),r.push([i[c],o,f]),a.push(i[c]),l.push([o,f]));return{values:r,xData:a,yData:l}}},e.defaultOptions=d(a.defaultOptions,{params:{fastAvgPeriod:34,slowAvgPeriod:55,signalPeriod:13,volumeSeriesID:"volume"},signalLine:{styles:{lineWidth:1,lineColor:"#ff0000"}},dataGrouping:{approximation:"averages"},tooltip:{pointFormat:'<span style="color: {point.color}">●</span><b> {series.name}</b><br/><span style="color: {point.color}">Klinger</span>: {point.y}<br/><span style="color: {point.series.options.signalLine.styles.lineColor}">Signal</span>: {point.signal}<br/>'}}),e}(a);return u(h.prototype,{areaLinesNames:[],linesApiNames:["signalLine"],nameBase:"Klinger",nameComponents:["fastAvgPeriod","slowAvgPeriod"],pointArrayMap:["y","signal"],parallelArrays:["x","y","signal"],pointValKey:"y"}),t.compose(h),e.registerSeriesType("klinger",h),h}),o(e,"Stock/Indicators/MACD/MACDIndicator.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.noop,s=e.seriesTypes,a=(s.column,s.sma),p=o.extend,l=o.correctFloat,u=o.defined,c=o.merge,d=function(o){function n(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.currentLineZone=void 0,t.graphmacd=void 0,t.graphsignal=void 0,t.macdZones=void 0,t.signalZones=void 0,t}return r(n,o),n.prototype.init=function(){e.seriesTypes.sma.prototype.init.apply(this,arguments);var t=this.color,o=this.userOptions._colorIndex;this.options&&(u(this.userOptions._colorIndex)&&(this.options.signalLine&&this.options.signalLine.styles&&!this.options.signalLine.styles.lineColor&&(this.userOptions._colorIndex++,this.getCyclic("color",void 0,this.chart.options.colors),this.options.signalLine.styles.lineColor=this.color),this.options.macdLine&&this.options.macdLine.styles&&!this.options.macdLine.styles.lineColor&&(this.userOptions._colorIndex++,this.getCyclic("color",void 0,this.chart.options.colors),this.options.macdLine.styles.lineColor=this.color)),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0),this.color=t,this.userOptions._colorIndex=o},n.prototype.toYData=function(t){return[t.y,t.signal,t.MACD]},n.prototype.translate=function(){var e=this,o=["plotSignal","plotMACD"];t.seriesTypes.column.prototype.translate.apply(e),e.points.forEach(function(t){[t.signal,t.MACD].forEach(function(n,r){null!==n&&(t[o[r]]=e.yAxis.toPixels(n,!0))})})},n.prototype.destroy=function(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),e.seriesTypes.sma.prototype.destroy.apply(this,arguments)},n.prototype.drawGraph=function(){for(var t,o=this,n=o.points,r=n.length,i=o.options,s=o.zones,a={options:{gapSize:i.gapSize}},p=[[],[]];r--;)u((t=n[r]).plotMACD)&&p[0].push({plotX:t.plotX,plotY:t.plotMACD,isNull:!u(t.plotMACD)}),u(t.plotSignal)&&p[1].push({plotX:t.plotX,plotY:t.plotSignal,isNull:!u(t.plotMACD)});["macd","signal"].forEach(function(t,n){o.points=p[n],o.options=c(i[t+"Line"].styles,a),o.graph=o["graph"+t],o.currentLineZone=t+"Zones",o.zones=o[o.currentLineZone].zones,e.seriesTypes.sma.prototype.drawGraph.call(o),o["graph"+t]=o.graph}),o.points=n,o.options=i,o.zones=s,o.currentLineZone=null},n.prototype.getZonesGraphs=function(t){var e=o.prototype.getZonesGraphs.call(this,t),n=e;return this.currentLineZone&&((n=e.splice(this[this.currentLineZone].startIndex+1)).length?n.splice(0,0,t[0]):n=[t[0]]),n},n.prototype.applyZones=function(){var t=this.zones;this.zones=this.signalZones.zones,e.seriesTypes.sma.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=t},n.prototype.getValues=function(t,o){var n,r,i,s=o.longPeriod-o.shortPeriod,a=0,p=[],c=[],d=[],h=[];if(!(t.xData.length<o.longPeriod+o.signalPeriod)){for(i=0,n=e.seriesTypes.ema.prototype.getValues(t,{period:o.shortPeriod,index:o.index}),r=e.seriesTypes.ema.prototype.getValues(t,{period:o.longPeriod,index:o.index}),n=n.values,r=r.values;i<=n.length;i++)u(r[i])&&u(r[i][1])&&u(n[i+s])&&u(n[i+s][0])&&p.push([n[i+s][0],0,null,n[i+s][1]-r[i][1]]);for(i=0;i<p.length;i++)c.push(p[i][0]),d.push([0,null,p[i][3]]);for(i=0,h=(h=e.seriesTypes.ema.prototype.getValues({xData:c,yData:d},{period:o.signalPeriod,index:2})).values;i<p.length;i++)p[i][0]>=h[0][0]&&(p[i][2]=h[a][1],d[i]=[0,h[a][1],p[i][3]],null===p[i][3]?(p[i][1]=0,d[i][0]=0):(p[i][1]=l(p[i][3]-h[a][1]),d[i][0]=l(p[i][3]-h[a][1])),a++);return{values:p,xData:c,yData:d}}},n.defaultOptions=c(a.defaultOptions,{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0}),n}(a);return p(d.prototype,{nameComponents:["longPeriod","shortPeriod","signalPeriod"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:i,getColumnMetrics:t.seriesTypes.column.prototype.getColumnMetrics,crispCol:t.seriesTypes.column.prototype.crispCol,drawPoints:t.seriesTypes.column.prototype.drawPoints}),e.registerSeriesType("macd",d),d}),o(e,"Stock/Indicators/MFI/MFIIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.extend,s=e.merge,a=e.error,p=e.isArray;function l(t){return t.reduce(function(t,e){return t+e})}function u(t,e){return parseFloat(t.toFixed(e))}function c(t){return(t[1]+t[2]+t[3])/3}var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o,n,r,i,s,d,h,y,f,v,g,m,_=e.period,x=t.xData,D=t.yData,S=D?D.length:0,O=e.decimals,C=1,A=t.chart.get(e.volumeSeriesID),P=A&&A.yData,b=[],j=!1,I=[],T=[],k=[],w=[];if(!A){a("Series "+e.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,t.chart);return}if(!(x.length<=_)&&p(D[0])&&4===D[0].length&&P){for(s=c(D[C]);C<_+1;)d=s,j=(s=c(D[C]))>=d,o=s,h=o*(n=P[C]),k.push(j?h:0),w.push(j?0:h),C++;for(m=C-1;m<S;m++)m>C-1&&(k.shift(),w.shift(),d=s,j=(s=c(D[m]))>d,r=s,h=r*(i=P[m]),k.push(j?h:0),w.push(j?0:h)),y=l(w),v=l(k)/y,g=u(100-100/(1+v),O),b.push([x[m],g]),I.push(x[m]),T.push(g);return{values:b,xData:I,yData:T}}},e.defaultOptions=s(r.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",decimals:4}}),e}(r);return i(d.prototype,{nameBase:"Money Flow Index"}),t.registerSeriesType("mfi",d),d}),o(e,"Stock/Indicators/Momentum/MomentumIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.extend,s=e.isArray,a=e.merge;function p(t,e,o,n,r){var i=e[o-1][r]-e[o-n-1][r];return[t[o-1],i]}var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o,n,r=e.period,i=e.index,a=t.xData,l=t.yData,u=l?l.length:0,c=(l[0],[]),d=[],h=[];if(!(a.length<=r)){if(s(l[0])){for(l[0][i],o=r+1;o<u;o++)n=p(a,l,o,r,i),c.push(n),d.push(n[0]),h.push(n[1]);return n=p(a,l,o,r,i),c.push(n),d.push(n[0]),h.push(n[1]),{values:c,xData:d,yData:h}}}},e.defaultOptions=a(r.defaultOptions,{params:{index:3}}),e}(r);return i(l.prototype,{nameBase:"Momentum"}),t.registerSeriesType("momentum",l),l}),o(e,"Stock/Indicators/NATR/NATRIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.atr,i=e.merge,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.points=void 0,e.options=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o=r.prototype.getValues.apply(this,arguments),n=o.values.length,i=e.period-1,s=t.yData,a=0;if(o){for(;a<n;a++)o.yData[a]=o.values[a][1]/s[i][3]*100,o.values[a][1]=o.yData[a],i++;return o}},e.defaultOptions=i(r.defaultOptions,{tooltip:{valueSuffix:"%"}}),e}(r);return t.registerSeriesType("natr",s),s}),o(e,"Stock/Indicators/OBV/OBVIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.isNumber,s=e.error,a=e.extend,p=e.merge,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.points=void 0,e.options=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o,n=t.chart.get(e.volumeSeriesID),r=t.xData,a=t.yData,p=[],l=[],u=[],c=!i(a[0]),d=[],h=1,y=0,f=0,v=0,g=0;if(n)for(o=n.yData,d=[r[0],y],v=c?a[0][3]:a[0],p.push(d),l.push(r[0]),u.push(d[1]);h<a.length;h++)f=(g=c?a[h][3]:a[h])>v?y+o[h]:g===v?y:y-o[h],d=[r[h],f],y=f,v=g,p.push(d),l.push(r[h]),u.push(d[1]);else{s("Series "+e.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,t.chart);return}return{values:p,xData:l,yData:u}},e.defaultOptions=p(r.defaultOptions,{marker:{enabled:!1},params:{index:void 0,period:void 0,volumeSeriesID:"volume"},tooltip:{valueDecimals:0}}),e}(r);return a(l.prototype,{nameComponents:void 0}),t.registerSeriesType("obv",l),l}),o(e,"Stock/Indicators/PivotPoints/PivotPointsPoint.js",[e["Core/Series/SeriesRegistry.js"]],function(t){var e,o=this&&this.__extends||(e=function(t,o){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,o)},function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),n=t.seriesTypes.sma.prototype.pointClass;function r(e,o){var n,r=e.series.pointArrayMap,i=r.length;for(t.seriesTypes.sma.prototype.pointClass.prototype[o].call(e);i--;)e[n="dataLabel"+r[i]]&&e[n].element&&e[n].destroy(),e[n]=null}return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.P=void 0,e.pivotLine=void 0,e.series=void 0,e}return o(e,t),e.prototype.destroyElements=function(){r(this,"destroyElements")},e.prototype.destroy=function(){r(this,"destroyElements")},e}(n)}),o(e,"Stock/Indicators/PivotPoints/PivotPointsIndicator.js",[e["Stock/Indicators/PivotPoints/PivotPointsPoint.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=e.seriesTypes.sma,s=o.merge,a=o.extend,p=o.defined,l=o.isArray,u=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e.endPoint=void 0,e.plotEndPoint=void 0,e}return r(o,t),o.prototype.toYData=function(t){return[t.P]},o.prototype.translate=function(){var t=this;e.seriesTypes.sma.prototype.translate.apply(t),t.points.forEach(function(e){t.pointArrayMap.forEach(function(o){p(e[o])&&(e["plot"+o]=t.yAxis.toPixels(e[o],!0))})}),t.plotEndPoint=t.xAxis.toPixels(t.endPoint,!0)},o.prototype.getGraphPath=function(t){for(var o,n,r,i=this,s=t.length,a=[[],[],[],[],[],[],[],[],[]],l=[],u=i.plotEndPoint,c=i.pointArrayMap.length;s--;){for(r=0,n=t[s];r<c;r++)p(n[o=i.pointArrayMap[r]])&&a[r].push({plotX:n.plotX,plotY:n["plot"+o],isNull:!1},{plotX:u,plotY:n["plot"+o],isNull:!1},{plotX:u,plotY:null,isNull:!0});u=n.plotX}return a.forEach(function(t){l=l.concat(e.seriesTypes.sma.prototype.getGraphPath.call(i,t))}),l},o.prototype.drawDataLabels=function(){var t,o,n,r,i=this,s=i.pointArrayMap;i.options.dataLabels.enabled&&(o=i.points.length,s.concat([!1]).forEach(function(a,p){for(r=o;r--;)n=i.points[r],a?(n.y=n[a],n.pivotLine=a,n.plotY=n["plot"+a],t=n["dataLabel"+a],p&&(n["dataLabel"+s[p-1]]=n.dataLabel),n.dataLabels||(n.dataLabels=[]),n.dataLabels[0]=n.dataLabel=t=t&&t.element?t:null):n["dataLabel"+s[p-1]]=n.dataLabel;e.seriesTypes.sma.prototype.drawDataLabels.call(i)}))},o.prototype.getValues=function(t,e){var o,n,r,i,s,a,p,u,c=e.period,d=t.xData,h=t.yData,y=h?h.length:0,f=this[e.algorithm+"Placement"],v=[],g=[],m=[];if(!(d.length<c)&&l(h[0])&&4===h[0].length){for(u=c+1;u<=y+c;u+=c)r=d.slice(u-c-1,u),i=h.slice(u-c-1,u),o=r[(n=r.length)-1],p=f(this.getPivotAndHLC(i)),s=v.push([o].concat(p)),g.push(o),m.push(v[s-1].slice(1));return this.endPoint=r[0]+(o-r[0])/n*c,{values:v,xData:g,yData:m}}},o.prototype.getPivotAndHLC=function(t){var e=-1/0,o=1/0,n=t[t.length-1][3];return t.forEach(function(t){e=Math.max(e,t[1]),o=Math.min(o,t[2])}),[(e+o+n)/3,e,o,n]},o.prototype.standardPlacement=function(t){var e=t[1]-t[2];return[null,null,t[0]+e,2*t[0]-t[2],t[0],2*t[0]-t[1],t[0]-e,null,null]},o.prototype.camarillaPlacement=function(t){var e=t[1]-t[2];return[t[3]+1.5*e,t[3]+1.25*e,t[3]+1.1666*e,t[3]+1.0833*e,t[0],t[3]-1.0833*e,t[3]-1.1666*e,t[3]-1.25*e,t[3]-1.5*e]},o.prototype.fibonacciPlacement=function(t){var e=t[1]-t[2];return[null,t[0]+e,t[0]+.618*e,t[0]+.382*e,t[0],t[0]-.382*e,t[0]-.618*e,t[0]-e,null]},o.defaultOptions=s(i.defaultOptions,{params:{index:void 0,period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}}),o}(i);return a(u.prototype,{nameBase:"Pivot Points",pointArrayMap:["R4","R3","R2","R1","P","S1","S2","S3","S4"],pointValKey:"P",pointClass:t}),e.registerSeriesType("pivotpoints",u),u}),o(e,"Stock/Indicators/PPO/PPOIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.ema,i=e.correctFloat,s=e.extend,a=e.merge,p=e.error,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o,n,s,a,l,u=e.periods,c=e.index,d=[],h=[],y=[];if(2!==u.length||u[1]<=u[0]){p('Error: "PPO requires two periods. Notice, first period should be lower than the second one."');return}if(n=r.prototype.getValues.call(this,t,{index:c,period:u[0]}),s=r.prototype.getValues.call(this,t,{index:c,period:u[1]}),n&&s){for(l=0,o=u[1]-u[0];l<s.yData.length;l++)a=i((n.yData[l+o]-s.yData[l])/s.yData[l]*100),d.push([s.xData[l],a]),h.push(s.xData[l]),y.push(a);return{values:d,xData:h,yData:y}}},e.defaultOptions=a(r.defaultOptions,{params:{period:void 0,periods:[12,26]}}),e}(r);return s(l.prototype,{nameBase:"PPO",nameComponents:["periods"]}),t.registerSeriesType("ppo",l),l}),o(e,"Stock/Indicators/ArrayUtilities.js",[],function(){return{getArrayExtremes:function(t,e,o){return t.reduce(function(t,n){return[Math.min(t[0],n[e]),Math.max(t[1],n[o])]},[Number.MAX_VALUE,-Number.MAX_VALUE])}}}),o(e,"Stock/Indicators/PC/PCIndicator.js",[e["Stock/Indicators/ArrayUtilities.js"],e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Color/Palettes.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o,n,r){var i,s=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=n.seriesTypes.sma,p=r.merge,l=r.extend,u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(n,e),n.prototype.getValues=function(e,o){var n,r,i,s,a,p,l,u=o.period,c=e.xData,d=e.yData,h=d?d.length:0,y=[],f=[],v=[];if(!(h<u)){for(l=u;l<=h;l++)s=c[l-1],a=d.slice(l-u,l),n=((r=(p=t.getArrayExtremes(a,2,1))[1])+(i=p[0]))/2,y.push([s,r,n,i]),f.push(s),v.push([r,n,i]);return{values:y,xData:f,yData:v}}},n.defaultOptions=p(a.defaultOptions,{params:{index:void 0,period:20},lineWidth:1,topLine:{styles:{lineColor:o.colors[2],lineWidth:1}},bottomLine:{styles:{lineColor:o.colors[8],lineWidth:1}},dataGrouping:{approximation:"averages"}}),n}(a);return l(u.prototype,{areaLinesNames:["top","bottom"],nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),e.compose(u),n.registerSeriesType("pc",u),u}),o(e,"Stock/Indicators/PriceEnvelopes/PriceEnvelopesIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.extend,s=e.isArray,a=e.merge,p=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return n(o,e),o.prototype.init=function(){t.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=a({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},o.prototype.toYData=function(t){return[t.top,t.middle,t.bottom]},o.prototype.translate=function(){var e=this,o=["plotTop","plotMiddle","plotBottom"];t.seriesTypes.sma.prototype.translate.apply(e),e.points.forEach(function(t){[t.top,t.middle,t.bottom].forEach(function(n,r){null!==n&&(t[o[r]]=e.yAxis.toPixels(n,!0))})})},o.prototype.drawGraph=function(){for(var e,o=this,n=o.points,r=n.length,i=o.options,s=o.graph,p={options:{gapSize:i.gapSize}},l=[[],[]];r--;)e=n[r],l[0].push({plotX:e.plotX,plotY:e.plotTop,isNull:e.isNull}),l[1].push({plotX:e.plotX,plotY:e.plotBottom,isNull:e.isNull});["topLine","bottomLine"].forEach(function(e,n){o.points=l[n],o.options=a(i[e].styles,p),o.graph=o["graph"+e],t.seriesTypes.sma.prototype.drawGraph.call(o),o["graph"+e]=o.graph}),o.points=n,o.options=i,o.graph=s,t.seriesTypes.sma.prototype.drawGraph.call(o)},o.prototype.getValues=function(e,o){var n,r,i,a,p,l,u,c,d=o.period,h=o.topBand,y=o.bottomBand,f=e.xData,v=e.yData,g=v?v.length:0,m=[],_=[],x=[];if(!(f.length<d)&&s(v[0])&&4===v[0].length){for(c=d;c<=g;c++)p=f.slice(c-d,c),l=v.slice(c-d,c),a=(u=t.seriesTypes.sma.prototype.getValues.call(this,{xData:p,yData:l},o)).xData[0],r=(n=u.yData[0])*(1+h),i=n*(1-y),m.push([a,r,n,i]),_.push(a),x.push([r,n,i]);return{values:m,xData:_,yData:x}}},o.defaultOptions=a(r.defaultOptions,{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),o}(r);return i(p.prototype,{nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle"}),t.registerSeriesType("priceenvelopes",p),p}),o(e,"Stock/Indicators/PSAR/PSARIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.merge,s=e.extend;function a(t,e){return parseFloat(t.toFixed(e))}function p(t,e,o,n){return 1===t&&e>n||-1===t&&o>n?1:-1}function l(t,e,o,n,r,i,s,p){return t===e?1===t&&o>n||-1===t&&o<n?r===s?s:a(r+i,2):r:p}function u(t,e,o,n){return 1===o?t>n?t:n:e<n?e:n}function c(t,e,o,n,r,i,s,a,p){return t===e?1===t?o+n<Math.min(r,i)?o+n:Math.min(r,i):o+n>Math.max(a,s)?o+n:Math.max(a,s):p}var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.points=void 0,e.options=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o,n,r,i,s,d,h,y,f,v,g,m,_,x,D,S,O,C,A,P,b=t.xData,j=t.yData,I=j[0][1],T=e.initialAccelerationFactor,k=e.maxAccelerationFactor,w=e.increment,M=e.initialAccelerationFactor,L=j[0][2],V=e.decimals,E=e.index,R=[],B=[],N=[],U=1;if(!(E>=j.length)){for(P=0;P<E;P++)I=Math.max(j[P][1],I),L=Math.min(j[P][2],a(L,V));for(f=j[P][1]>L?1:-1,o=I,v=o-(n=L),r=T=e.initialAccelerationFactor,g=r*(i=v),R.push([b[E],L]),B.push(b[E]),N.push(a(L,V)),P=E+1;P<j.length;P++)_=j[P-1][2],x=j[P-2][2],D=j[P-1][1],S=j[P-2][1],C=j[P][1],A=j[P][2],null!==x&&null!==S&&null!==_&&null!==D&&null!==C&&null!==A&&(L=c(f,U,L,g,x,_,D,S,I),O=u(C,A,f,I),m=p(U,A,C,L),T=l(m,f,O,I,T,w,k,M),s=O,v=s-(d=L),h=T,g=h*(y=v),R.push([b[P],a(L,V)]),B.push(b[P]),N.push(a(L,V)),U=f,f=m,I=O);return{values:R,xData:B,yData:N}}},e.defaultOptions=i(r.defaultOptions,{lineWidth:0,marker:{enabled:!0},states:{hover:{lineWidthPlus:0}},params:{period:void 0,initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}}),e}(r);return s(d.prototype,{nameComponents:void 0}),t.registerSeriesType("psar",d),d}),o(e,"Stock/Indicators/ROC/ROCIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.isArray,s=e.merge,a=e.extend;function p(t,e,o,n,r){var i,s;return s=r<0?(i=e[o-n])?(e[o]-i)/i*100:null:(i=e[o-n][r])?(e[o][r]-i)/i*100:null,[t[o],s]}var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o,n,r=e.period,s=t.xData,a=t.yData,l=a?a.length:0,u=[],c=[],d=[],h=-1;if(!(s.length<=r)){for(i(a[0])&&(h=e.index),o=r;o<l;o++)n=p(s,a,o,r,h),u.push(n),c.push(n[0]),d.push(n[1]);return{values:u,xData:c,yData:d}}},e.defaultOptions=s(r.defaultOptions,{params:{index:3,period:9}}),e}(r);return a(l.prototype,{nameBase:"Rate of Change"}),t.registerSeriesType("roc",l),l}),o(e,"Stock/Indicators/RSI/RSIIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.isNumber,s=e.merge;function a(t,e){return parseFloat(t.toFixed(e))}var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.points=void 0,e.options=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o,n,r,s,p,l,u=e.period,c=t.xData,d=t.yData,h=d?d.length:0,y=e.decimals,f=1,v=[],g=[],m=[],_=e.index,x=0,D=0;if(!(c.length<u)){for(i(d[0])?l=d:(_=Math.min(_,d[0].length-1),l=d.map(function(t){return t[_]}));f<u;)(n=a(l[f]-l[f-1],y))>0?x+=n:D+=Math.abs(n),f++;for(r=a(x/(u-1),y),s=a(D/(u-1),y),p=f;p<h;p++)(n=a(l[p]-l[p-1],y))>0?(x=n,D=0):(x=0,D=Math.abs(n)),r=a((r*(u-1)+x)/u,y),o=0===(s=a((s*(u-1)+D)/u,y))?100:0===r?0:a(100-100/(1+r/s),y),v.push([c[p],o]),g.push(c[p]),m.push(o);return{values:v,xData:g,yData:m}}},e.defaultOptions=s(r.defaultOptions,{params:{decimals:4,index:3}}),e}(r);return t.registerSeriesType("rsi",p),p}),o(e,"Stock/Indicators/Stochastic/StochasticIndicator.js",[e["Stock/Indicators/ArrayUtilities.js"],e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o,n){var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=o.seriesTypes.sma,a=n.extend,p=n.isArray,l=n.merge,u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i(n,e),n.prototype.init=function(){o.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=l({smoothedLine:{styles:{lineColor:this.color}}},this.options)},n.prototype.getValues=function(e,n){var r,i,s,a,l,u,c,d,h=n.periods[0],y=n.periods[1],f=e.xData,v=e.yData,g=v?v.length:0,m=[],_=[],x=[],D=null;if(!(g<h)&&p(v[0])&&4===v[0].length){for(d=h-1;d<g;d++)r=v.slice(d-h+1,d+1),a=(c=t.getArrayExtremes(r,2,1))[0],l=(i=v[d][3]-a)/(c[1]-a)*100,_.push(f[d]),x.push([l,null]),d>=h-1+(y-1)&&(D=o.seriesTypes.sma.prototype.getValues.call(this,{xData:_.slice(-y),yData:x.slice(-y)},{period:y}).yData[0]),m.push([f[d],l,D]),x[x.length-1][1]=D;return{values:m,xData:_,yData:x}}},n.defaultOptions=l(s.defaultOptions,{params:{index:void 0,period:void 0,periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),n}(s);return a(u.prototype,{areaLinesNames:[],nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"]}),e.compose(u),o.registerSeriesType("stochastic",u),u}),o(e,"Stock/Indicators/SlowStochastic/SlowStochasticIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes,i=r.sma.prototype,s=r.stochastic,a=e.extend,p=e.merge,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.getValues=function(e,o){var n=o.periods,r=t.prototype.getValues.call(this,e,o),s={values:[],xData:[],yData:[]},a=0;if(r){s.xData=r.xData.slice(n[1]-1);var p=r.yData.slice(n[1]-1),l=i.getValues.call(this,{xData:s.xData,yData:p},{index:1,period:n[2]});if(l){for(var u=s.xData.length;a<u;a++)s.yData[a]=[p[a][1],l.yData[a-n[2]+1]||null],s.values[a]=[s.xData[a],p[a][1],l.yData[a-n[2]+1]||null];return s}}},e.defaultOptions=p(s.defaultOptions,{params:{periods:[14,3,3]}}),e}(s);return a(l.prototype,{nameBase:"Slow Stochastic"}),t.registerSeriesType("slowstochastic",l),l}),o(e,"Stock/Indicators/Supertrend/SupertrendIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"],e["Core/Chart/StockChart.js"]],function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes,s=i.atr,a=i.sma,p=e.addEvent,l=e.correctFloat,u=e.isArray,c=e.extend,d=e.merge,h=e.objectEach;function y(t,e,o){return{index:e,close:t.yData[e][o],x:t.xData[e]}}var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.linkedParent=void 0,e.options=void 0,e.points=void 0,e}return r(e,t),e.prototype.init=function(){a.prototype.init.apply(this,arguments);var t,e=this,n=p(o,"afterLinkSeries",function(){if(e.options){var o=e.options;t=e.linkedParent.options,o.cropThreshold=t.cropThreshold-(o.params.period-1)}n()},{order:1})},e.prototype.drawGraph=function(){for(var t,e,o,n,r,i,s,p,l,u=this,c=u.options,f=u.linkedParent,v=f?f.points:[],g=u.points,m=u.graph,_=g.length,x=v.length-_,D=x>0?x:0,S={options:{gapSize:c.gapSize}},O={top:[],bottom:[],intersect:[]},C={top:{styles:{lineWidth:c.lineWidth,lineColor:c.fallingTrendColor||c.color,dashStyle:c.dashStyle}},bottom:{styles:{lineWidth:c.lineWidth,lineColor:c.risingTrendColor||c.color,dashStyle:c.dashStyle}},intersect:c.changeTrendLine};_--;)t=g[_],e=g[_-1],o=v[_-1+D],n=v[_-2+D],r=v[_+D],i=v[_+D+1],s=t.options.color,p={x:t.x,plotX:t.plotX,plotY:t.plotY,isNull:!1},!n&&o&&f.yData[o.index-1]&&(n=y(f,o.index-1,3)),!i&&r&&f.yData[r.index+1]&&(i=y(f,r.index+1,3)),!o&&n&&f.yData[n.index+1]?o=y(f,n.index+1,3):!o&&r&&f.yData[r.index-1]&&(o=y(f,r.index-1,3)),t&&o&&r&&n&&t.x!==o.x&&(t.x===r.x?(n=o,o=r):t.x===n.x?(o=n,n={close:f.yData[o.index-1][3],x:f.xData[o.index-1]}):i&&t.x===i.x&&(o=i,n=r)),e&&n&&o?(l={x:e.x,plotX:e.plotX,plotY:e.plotY,isNull:!1},t.y>=o.close&&e.y>=n.close?(t.color=s||c.fallingTrendColor||c.color,O.top.push(p)):t.y<o.close&&e.y<n.close?(t.color=s||c.risingTrendColor||c.color,O.bottom.push(p)):(O.intersect.push(p),O.intersect.push(l),O.intersect.push(d(l,{isNull:!0})),t.y>=o.close&&e.y<n.close?(t.color=s||c.fallingTrendColor||c.color,e.color=s||c.risingTrendColor||c.color,O.top.push(p),O.top.push(d(l,{isNull:!0}))):t.y<o.close&&e.y>=n.close&&(t.color=s||c.risingTrendColor||c.color,e.color=s||c.fallingTrendColor||c.color,O.bottom.push(p),O.bottom.push(d(l,{isNull:!0}))))):o&&(t.y>=o.close?(t.color=s||c.fallingTrendColor||c.color,O.top.push(p)):(t.color=s||c.risingTrendColor||c.color,O.bottom.push(p)));h(O,function(t,e){u.points=t,u.options=d(C[e].styles,S),u.graph=u["graph"+e+"Line"],a.prototype.drawGraph.call(u),u["graph"+e+"Line"]=u.graph}),u.points=g,u.options=c,u.graph=m},e.prototype.getValues=function(t,e){var o,n,r,i,a,p,c,d,h,y=e.period,f=e.multiplier,v=t.xData,g=t.yData,m=[],_=[],x=[],D=[],S=0===y?0:y-1,O=[],C=[];if(!(v.length<=y)&&u(g[0])&&4===g[0].length&&!(y<0)){for(h=0,m=s.prototype.getValues.call(this,t,{period:y}).yData;h<m.length;h++)d=g[S+h],c=g[S+h-1]||[],i=O[h-1],a=C[h-1],p=D[h-1],0===h&&(i=a=p=0),o=l((d[1]+d[2])/2+f*m[h]),n=l((d[1]+d[2])/2-f*m[h]),o<i||c[3]>i?O[h]=o:O[h]=i,n>a||c[3]<a?C[h]=n:C[h]=a,p===i&&d[3]<O[h]||p===a&&d[3]<C[h]?r=O[h]:(p===i&&d[3]>O[h]||p===a&&d[3]>C[h])&&(r=C[h]),_.push([v[S+h],r]),x.push(v[S+h]),D.push(r);return{values:_,xData:x,yData:D}}},e.defaultOptions=d(a.defaultOptions,{params:{index:void 0,multiplier:3,period:10},risingTrendColor:"#06b535",fallingTrendColor:"#f21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}}),e}(a);return c(f.prototype,{nameBase:"Supertrend",nameComponents:["multiplier","period"]}),t.registerSeriesType("supertrend",f),f}),o(e,"Stock/Indicators/VBP/VBPPoint.js",[e["Core/Series/SeriesRegistry.js"]],function(t){var e,o=this&&this.__extends||(e=function(t,o){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,o)},function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)});return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.destroy=function(){return this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),t.prototype.destroy.apply(this,arguments)},e}(t.seriesTypes.sma.prototype.pointClass)}),o(e,"Stock/Indicators/VBP/VBPIndicator.js",[e["Stock/Indicators/VBP/VBPPoint.js"],e["Core/Animation/AnimationUtilities.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"],e["Core/Chart/StockChart.js"]],function(t,e,o,n,r,i){var s,a=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),p=e.animObject,l=o.noop,u=n.seriesTypes,c=u.column.prototype,d=u.sma,h=r.addEvent,y=r.arrayMax,f=r.arrayMin,v=r.correctFloat,g=r.defined,m=r.error,_=r.extend,x=r.isArray,D=r.merge,S=Math.abs,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.negWidths=void 0,e.options=void 0,e.points=void 0,e.posWidths=void 0,e.priceZones=void 0,e.rangeStep=void 0,e.volumeDataArray=void 0,e.zoneStarts=void 0,e.zoneLinesSVG=void 0,e}return a(e,t),e.prototype.init=function(t){var e,n,r,s=this;o.seriesTypes.sma.prototype.init.apply(s,arguments);var a=h(i,"afterLinkSeries",function(){s.options&&(e=s.options.params,n=s.linkedParent,r=t.get(e.volumeSeriesID),s.addCustomEvents(n,r)),a()},{order:1});return s},e.prototype.addCustomEvents=function(t,e){var o=this;function n(){o.chart.redraw(),o.setData([]),o.zoneStarts=[],o.zoneLinesSVG&&(o.zoneLinesSVG=o.zoneLinesSVG.destroy())}return o.dataEventsToUnbind.push(h(t,"remove",function(){n()})),e&&o.dataEventsToUnbind.push(h(e,"remove",function(){n()})),o},e.prototype.animate=function(t){var e,o=this,n=o.chart.inverted,r=o.group,i={};!t&&r&&(e=n?o.yAxis.top:o.xAxis.left,n?(r["forceAnimate:translateY"]=!0,i.translateY=e):(r["forceAnimate:translateX"]=!0,i.translateX=e),r.animate(i,_(p(o.options.animation),{step:function(t,e){o.group.attr({scaleX:Math.max(.001,e.pos)})}})))},e.prototype.drawPoints=function(){this.options.volumeDivision.enabled&&(this.posNegVolume(!0,!0),c.drawPoints.apply(this,arguments),this.posNegVolume(!1,!1)),c.drawPoints.apply(this,arguments)},e.prototype.posNegVolume=function(t,e){var o,n,r,i,s=this,a=e?["positive","negative"]:["negative","positive"],p=s.options.volumeDivision,l=s.points.length,u=[],c=[],d=0;for(t?(s.posWidths=u,s.negWidths=c):(u=s.posWidths,c=s.negWidths);d<l;d++)(i=s.points[d])[a[0]+"Graphic"]=i.graphic,i.graphic=i[a[1]+"Graphic"],t&&(o=i.shapeArgs.width,(r=(n=s.priceZones[d]).wholeVolumeData)?(u.push(o/r*n.positiveVolumeData),c.push(o/r*n.negativeVolumeData)):(u.push(0),c.push(0))),i.color=e?p.styles.positiveColor:p.styles.negativeColor,i.shapeArgs.width=e?s.posWidths[d]:s.negWidths[d],i.shapeArgs.x=e?i.shapeArgs.x:s.posWidths[d]},e.prototype.translate=function(){var t,e,o,n,r,i,s,a,p,l,u,d,h=this,f=h.options,g=h.chart,m=h.yAxis,_=m.min,x=h.options.zoneLines,D=h.priceZones,O=0;c.translate.apply(h),(t=h.points).length&&(p=f.pointPadding<.5?f.pointPadding:.1,o=y(h.volumeDataArray),n=g.plotWidth/2,l=g.plotTop,r=S(m.toPixels(_)-m.toPixels(_+h.rangeStep)),s=S(m.toPixels(_)-m.toPixels(_+h.rangeStep)),p&&(i=S(r*(1-2*p)),O=S((r-i)/2),r=S(i)),t.forEach(function(t,e){u=t.barX=t.plotX=0,d=t.plotY=m.toPixels(D[e].start)-l-(m.reversed?r-s:r)-O,a=v(n*D[e].wholeVolumeData/o),t.pointWidth=a,t.shapeArgs=h.crispCol.apply(h,[u,d,a,r]),t.volumeNeg=D[e].negativeVolumeData,t.volumePos=D[e].positiveVolumeData,t.volumeAll=D[e].wholeVolumeData}),x.enabled&&h.drawZones(g,m,h.zoneStarts,x.styles))},e.prototype.getValues=function(t,e){var o,n,r,i=this,s=t.processedXData,a=t.processedYData,p=i.chart,l=e.ranges,u=[],c=[],d=[];if(!t.chart){m("Base series not found! In case it has been removed, add a new one.",!0,p);return}if(!(n=p.get(e.volumeSeriesID))){m("Series "+e.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,p);return}if((o=x(a[0]))&&4!==a[0].length){m("Type of "+t.name+" series is different than line, OHLC or candlestick.",!0,p);return}return(i.priceZones=i.specifyZones(o,s,a,l,n)).forEach(function(t,e){u.push([t.x,t.end]),c.push(u[e][0]),d.push(u[e][1])}),{values:u,xData:c,yData:d}},e.prototype.specifyZones=function(t,e,o,n,r){var i,s,a=this,p=!!t&&function(t){for(var e,o=t.length,n=t[0][3],r=n,i=1;i<o;i++)(e=t[i][3])<n&&(n=e),e>r&&(r=e);return{min:n,max:r}}(o),l=p?p.min:f(o),u=p?p.max:y(o),c=a.zoneStarts=[],d=[],h=0,m=1,_=a.linkedParent;if(!a.options.compareToMain&&_.dataModify&&(l=_.dataModify.modifyValue(l),u=_.dataModify.modifyValue(u)),!g(l)||!g(u))return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG&&(this.zoneLinesSVG=this.zoneLinesSVG.destroy())),[];for(i=a.rangeStep=v(u-l)/n,c.push(l);h<n-1;h++)c.push(v(c[h]+i));for(c.push(u),s=c.length;m<s;m++)d.push({index:m-1,x:e[0],start:c[m-1],end:c[m]});return a.volumePerZone(t,d,r,e,o)},e.prototype.volumePerZone=function(t,e,o,n,r){var i,s,a,p,l,u=this,c=o.processedXData,d=o.processedYData,h=e.length-1,y=r.length,f=d.length;return S(y-f)&&(n[0]!==c[0]&&d.unshift(0),n[y-1]!==c[f-1]&&d.push(0)),u.volumeDataArray=[],e.forEach(function(e){for(l=0,e.wholeVolumeData=0,e.positiveVolumeData=0,e.negativeVolumeData=0;l<y;l++){s=!1,a=!1,p=t?r[l][3]:r[l],i=l?t?r[l-1][3]:r[l-1]:p;var o=u.linkedParent;!u.options.compareToMain&&o.dataModify&&(p=o.dataModify.modifyValue(p),i=o.dataModify.modifyValue(i)),p<=e.start&&0===e.index&&(s=!0),p>=e.end&&e.index===h&&(a=!0),(p>e.start||s)&&(p<e.end||a)&&(e.wholeVolumeData+=d[l],i>p?e.negativeVolumeData+=d[l]:e.positiveVolumeData+=d[l])}u.volumeDataArray.push(e.wholeVolumeData)}),e},e.prototype.drawZones=function(t,e,o,n){var r,i=this,s=t.renderer,a=i.zoneLinesSVG,p=[],l=t.plotWidth,u=t.plotTop;o.forEach(function(o){r=e.toPixels(o)-u,p=p.concat(t.renderer.crispLine([["M",0,r],["L",l,r]],n.lineWidth))}),a?a.animate({d:p}):a=i.zoneLinesSVG=s.path(p).attr({"stroke-width":n.lineWidth,stroke:n.color,dashstyle:n.dashStyle,zIndex:i.group.zIndex+.1}).add(i.group)},e.defaultOptions=D(d.defaultOptions,{params:{index:void 0,period:void 0,ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"7px"},verticalAlign:"top"}}),e}(d);return _(O.prototype,{nameBase:"Volume by Price",nameComponents:["ranges"],calculateOn:{chart:"render",xAxis:"afterSetExtremes"},pointClass:t,markerAttribs:l,drawGraph:l,getColumnMetrics:c.getColumnMetrics,crispCol:c.crispCol}),n.registerSeriesType("vbp",O),O}),o(e,"Stock/Indicators/VWAP/VWAPIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.error,s=e.isArray,a=e.merge,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.points=void 0,e.options=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o,n=t.chart,r=t.xData,a=t.yData,p=e.period,l=!0;if(!(o=n.get(e.volumeSeriesID))){i("Series "+e.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,n);return}return s(a[0])||(l=!1),this.calculateVWAPValues(l,r,a,o,p)},e.prototype.calculateVWAPValues=function(t,e,o,n,r){var i,s,a,p,l,u,c=n.yData,d=n.xData.length,h=e.length,y=[],f=[],v=[],g=[],m=[];for(l=0,i=h<=d?h:d,u=0;l<i;l++)s=t?(o[l][1]+o[l][2]+o[l][3])/3:o[l],s*=c[l],a=u?y[l-1]+s:s,p=u?f[l-1]+c[l]:c[l],y.push(a),f.push(p),m.push([e[l],a/p]),v.push(m[l][0]),g.push(m[l][1]),++u===r&&(u=0);return{values:m,xData:v,yData:g}},e.defaultOptions=a(r.defaultOptions,{params:{index:void 0,period:30,volumeSeriesID:"volume"}}),e}(r);return t.registerSeriesType("vwap",p),p}),o(e,"Stock/Indicators/WilliamsR/WilliamsRIndicator.js",[e["Stock/Indicators/ArrayUtilities.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=e.seriesTypes.sma,s=o.extend,a=o.isArray,p=o.merge,l=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return r(o,e),o.prototype.getValues=function(e,o){var n,r,i,s,p,l,u,c=o.period,d=e.xData,h=e.yData,y=h?h.length:0,f=[],v=[],g=[];if(!(d.length<c)&&a(h[0])&&4===h[0].length){for(u=c-1;u<y;u++)n=h.slice(u-c+1,u+1),p=(r=t.getArrayExtremes(n,2,1))[0],i=-(((s=r[1])-h[u][3])/(s-p)*100),d[u]&&(f.push([d[u],i]),v.push(d[u]),g.push(i));return{values:f,xData:v,yData:g}}},o.defaultOptions=p(i.defaultOptions,{params:{index:void 0,period:14}}),o}(i);return s(l.prototype,{nameBase:"Williams %R"}),e.registerSeriesType("williamsr",l),l}),o(e,"Stock/Indicators/WMA/WMAIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.isArray,s=e.merge;function a(t,e,o,n,r){var i=e[n],s=r<0?o[n]:o[n][r];t.push([i,s])}function p(t,e,o,n){var r,i,s=t.length,a=t.reduce(function(t,e,o){return[null,t[1]+e[1]*(o+1)]})[1]/((s+1)/2*s),p=e[n-1];return t.shift(),[p,a]}var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o,n,r,s=e.period,l=t.xData,u=t.yData,c=u?u.length:0,d=1,h=l[0],y=u[0],f=[],v=[],g=[],m=-1;if(!(l.length<s)){for(i(u[0])&&(m=e.index,y=u[0][m]),n=[[h,y]];d!==s;)a(n,l,u,d,m),d++;for(o=d;o<c;o++)r=p(n,l,u,o),f.push(r),v.push(r[0]),g.push(r[1]),a(n,l,u,o,m);return r=p(n,l,u,o),f.push(r),v.push(r[0]),g.push(r[1]),{values:f,xData:v,yData:g}}},e.defaultOptions=s(r.defaultOptions,{params:{index:3,period:9}}),e}(r);return t.registerSeriesType("wma",l),l}),o(e,"Stock/Indicators/Zigzag/ZigzagIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.merge,s=e.extend,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.points=void 0,e.options=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o,n,r,i,s,a,p,l=e.lowIndex,u=e.highIndex,c=e.deviation/100,d={low:1+c,high:1-c},h=t.xData,y=t.yData,f=y?y.length:0,v=[],g=[],m=[],_=!1,x=!1;if(h&&!(h.length<=1)&&(!f||void 0!==y[0][l]&&void 0!==y[0][u])){for(o=1,i=y[0][l],s=y[0][u];o<f;o++)y[o][l]<=s*d.high?(v.push([h[0],s]),r=[h[o],y[o][l]],a=!0,_=!0):y[o][u]>=i*d.low&&(v.push([h[0],i]),r=[h[o],y[o][u]],a=!1,_=!0),_&&(g.push(v[0][0]),m.push(v[0][1]),n=o++,o=f);for(o=n;o<f;o++)a?(y[o][l]<=r[1]&&(r=[h[o],y[o][l]]),y[o][u]>=r[1]*d.low&&(x=u)):(y[o][u]>=r[1]&&(r=[h[o],y[o][u]]),y[o][l]<=r[1]*d.high&&(x=l)),!1!==x&&(v.push(r),g.push(r[0]),m.push(r[1]),r=[h[o],y[o][x]],a=!a,x=!1);return 0!==(p=v.length)&&v[p-1][0]<h[f-1]&&(v.push(r),g.push(r[0]),m.push(r[1])),{values:v,xData:g,yData:m}}},e.defaultOptions=i(r.defaultOptions,{params:{index:void 0,period:void 0,lowIndex:2,highIndex:1,deviation:1}}),e}(r);return s(a.prototype,{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag"}),t.registerSeriesType("zigzag",a),a}),o(e,"Stock/Indicators/LinearRegression/LinearRegressionIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.isArray,s=e.extend,a=e.merge,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.getRegressionLineParameters=function(t,e){var o,n,r,s,a=this.options.params.index,p=function(t,e){return i(t)?t[e]:t},l=t.reduce(function(t,e){return e+t},0),u=e.reduce(function(t,e){return p(e,a)+t},0),c=l/t.length,d=u/e.length,h=0,y=0;for(r=0;r<t.length;r++)o=t[r]-c,n=p(e[r],a)-d,h+=o*n,y+=Math.pow(o,2);return{slope:s=y?h/y:0,intercept:d-s*c}},e.prototype.getEndPointY=function(t,e){return t.slope*e+t.intercept},e.prototype.transformXData=function(t,e){var o=t[0];return t.map(function(t){return(t-o)/e})},e.prototype.findClosestDistance=function(t){var e,o,n;for(n=1;n<t.length-1;n++)(e=t[n]-t[n-1])>0&&(void 0===o||e<o)&&(o=e);return o},e.prototype.getValues=function(t,e){var o,n,r,i,s,a,p,l,u,c=t.xData,d=t.yData,h=e.period,y={xData:[],yData:[],values:[]},f=this.options.params.xAxisUnit||this.findClosestDistance(c);for(n=h-1;n<=c.length-1;n++)r=n-h+1,i=n+1,s=c[n],p=c.slice(r,i),l=d.slice(r,i),u=this.transformXData(p,f),o=this.getRegressionLineParameters(u,l),a=this.getEndPointY(o,u[u.length-1]),y.values.push({regressionLineParameters:o,x:s,y:a}),y.xData.push(s),y.yData.push(a);return y},e.defaultOptions=a(r.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}}),e}(r);return s(p.prototype,{nameBase:"Linear Regression Indicator"}),t.registerSeriesType("linearRegression",p),p}),o(e,"Stock/Indicators/LinearRegressionSlopes/LinearRegressionSlopesIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.linearRegression,i=e.extend,s=e.merge,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.getEndPointY=function(t){return t.slope},e.defaultOptions=s(r.defaultOptions),e}(r);return i(a.prototype,{nameBase:"Linear Regression Slope Indicator"}),t.registerSeriesType("linearRegressionSlope",a),a}),o(e,"Stock/Indicators/LinearRegressionIntercept/LinearRegressionInterceptIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.linearRegression,i=e.extend,s=e.merge,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.getEndPointY=function(t){return t.intercept},e.defaultOptions=s(r.defaultOptions),e}(r);return i(a.prototype,{nameBase:"Linear Regression Intercept Indicator"}),t.registerSeriesType("linearRegressionIntercept",a),a}),o(e,"Stock/Indicators/LinearRegressionAngle/LinearRegressionAngleIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.linearRegression,i=e.extend,s=e.merge,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.slopeToAngle=function(t){return Math.atan(t)*(180/Math.PI)},e.prototype.getEndPointY=function(t){return this.slopeToAngle(t.slope)},e.defaultOptions=s(r.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}\xb0</b><br/>'}}),e}(r);return i(a.prototype,{nameBase:"Linear Regression Angle Indicator"}),t.registerSeriesType("linearRegressionAngle",a),a}),o(e,"Stock/Indicators/ABands/ABandsIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=e.seriesTypes.sma,s=o.correctFloat,a=o.extend,p=o.merge;function l(t,e,o){return s(e-t)/(s(e+t)/2)*1e3*o}function u(t,e){return t*s(1+2*e)}function c(t,e){return t*s(1-2*e)}var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return r(e,t),e.prototype.getValues=function(e,o){var n,r,i,s,a,p,d,h,y,f,v,g=o.period,m=o.factor,_=o.index,x=e.xData,D=e.yData,S=D?D.length:0,O=[],C=[],A=[],P=[],b=[];if(!(S<g)){for(v=0;v<=S;v++)v<S&&(a=l(D[v][2],D[v][1],m),O.push(u(D[v][1],a)),C.push(c(D[v][2],a))),v>=g&&(y=x.slice(v-g,v),f=D.slice(v-g,v),d=t.prototype.getValues.call(this,{xData:y,yData:O.slice(v-g,v)},{period:g}),h=t.prototype.getValues.call(this,{xData:y,yData:C.slice(v-g,v)},{period:g}),s=(p=t.prototype.getValues.call(this,{xData:y,yData:f},{period:g,index:_})).xData[0],r=d.yData[0],i=h.yData[0],n=p.yData[0],A.push([s,r,n,i]),P.push(s),b.push([r,n,i]));return{values:A,xData:P,yData:b}}},e.defaultOptions=p(i.defaultOptions,{params:{period:20,factor:.001,index:3},lineWidth:1,topLine:{styles:{lineWidth:1}},bottomLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),e}(i);return a(d.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameBase:"Acceleration Bands",nameComponents:["period","factor"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),t.compose(d),e.registerSeriesType("abands",d),d}),o(e,"Stock/Indicators/TrendLine/TrendLineIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.extend,s=e.merge,a=e.isArray,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return n(e,t),e.prototype.getValues=function(t,e){var o,n,r,i,s,p=t.xData,l=t.yData,u=[],c=[],d=[],h=0,y=0,f=0,v=0,g=p.length,m=e.index;for(r=0;r<g;r++)i=p[r],s=a(l[r])?l[r][m]:l[r],h+=i,y+=s,f+=i*s,v+=i*i;for(isNaN(o=(g*f-h*y)/(g*v-h*h))&&(o=0),n=(y-o*h)/g,r=0;r<g;r++)s=o*(i=p[r])+n,u[r]=[i,s],c[r]=i,d[r]=s;return{xData:c,yData:d,values:u}},e.defaultOptions=s(r.defaultOptions,{params:{period:void 0,index:3}}),e}(r);return i(p.prototype,{nameBase:"Trendline",nameComponents:!1}),t.registerSeriesType("trendline",p),p}),o(e,"Stock/Indicators/DisparityIndex/DisparityIndexIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=t.seriesTypes.sma,i=e.correctFloat,s=e.defined,a=e.extend,p=e.isArray,l=e.merge,u=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.averageIndicator=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t}return n(o,e),o.prototype.init=function(){var e=arguments,o=this,n=e[1].params,i=n&&n.average?n.average:void 0;o.averageIndicator=t.seriesTypes[i]||r,o.averageIndicator.prototype.init.apply(o,e)},o.prototype.calculateDisparityIndex=function(t,e){return i(t-e)/e*100},o.prototype.getValues=function(t,e){var o=e.index,n=t.xData,r=t.yData,i=r?r.length:0,a=[],l=[],u=[],c=this.averageIndicator,d=p(r[0]),h=c.prototype.getValues(t,e),y=h.yData,f=n.indexOf(h.xData[0]);if(y&&0!==y.length&&s(o)&&!(r.length<=f)){for(var v=f;v<i;v++){var g=this.calculateDisparityIndex(d?r[v][o]:r[v],y[v-f]);a.push([n[v],g]),l.push(n[v]),u.push(g)}return{values:a,xData:l,yData:u}}},o.defaultOptions=l(r.defaultOptions,{params:{average:"sma",index:3},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),o}(r);return a(u.prototype,{nameBase:"Disparity Index",nameComponents:["period","average"]}),t.registerSeriesType("disparityindex",u),u}),o(e,"masters/indicators/indicators-all.src.js",[],function(){})},t.exports?(i.default=i,t.exports=i):void 0===(r=(function(t){return i(t),i.Highcharts=t,i}).apply(e,[o(78840),o(50496)]))||(t.exports=r)}}]);