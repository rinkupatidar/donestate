(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3594],{27166:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verifyAccount",function(){return r(29911)}])},61161:function(e,s,r){"use strict";r.d(s,{Z:function(){return n}});var i=r(96577),n={initial:"initial",animate:"animate",exit:"exit",variants:{initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},exit:{opacity:0}}};i.G0},74399:function(e,s,r){"use strict";r.d(s,{Z:function(){return o}});var i=r(85893),n=r(86889),t=r.n(n),a=r(57402);function o(e){var s=e.disableSection,r=e.className;return(0,i.jsx)("div",{className:"".concat(s?void 0:"section"," ").concat(t().loading_section," ").concat(r),children:(0,i.jsx)(a.Z,{})})}},57402:function(e,s,r){"use strict";var i=r(51351),n=r(85893),t=function(e){var e=null!==e?e:(0,i.Z)(TypeError("Cannot destructure undefined"));return(0,n.jsx)("div",{className:"loader"})};s.Z=t},29911:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return N}});var i=r(26042),n=r(69396),t=r(51351),a=r(85893),o=r(97797),c=r(65820),d=r(31780),l=r(41664),u=r.n(l),m=r(11163),f=r(67294),h=r(87536),p=r(47516),w=r(61161),x=r(41107),_=r(18419),g=r(85998),j=r(74399),v=r(1438),Z=r(7722),y=r.n(Z),b=function(e){var s=e.requestId,r=e.email,t=(0,h.cI)(),o=t.register,c=t.handleSubmit,d=t.setError,l=t.formState,m=l.errors,f=l.isSubmitting,w=function(e){if(e.password!==e.confirmPassword){d("confirmPassword",{type:"manual",message:"Passwords do not match"});return}return delete e.confirmPassword,v.Wf.post("resetPassword",(0,n.Z)((0,i.Z)({},e),{email:r,user_type:"FREE"}),{headers:{X_REQUEST_ID:s}})};return(0,a.jsx)("div",{className:y().container,children:(0,a.jsxs)("div",{className:"column is-12 is-flex is-flex-direction-column is-justify-content-center is-align-items-center fill-height ",children:[(0,a.jsx)("div",{className:"is-flex is-align-items-center mb-4 has-text-grey",children:(0,a.jsx)("div",{className:"image mr-4",children:(0,a.jsx)(u(),{href:"/",children:(0,a.jsx)("img",{src:"/icons/logo.svg",alt:"donestat"})})})}),(0,a.jsxs)("form",{style:{width:"30vw"},onSubmit:c(w),children:[(0,a.jsx)(g.Z,(0,n.Z)((0,i.Z)({},o("password",{required:"password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})),{label:"Password",type:"password",error:m.password})),(0,a.jsx)(g.Z,(0,n.Z)((0,i.Z)({},o("confirmPassword",{required:"Password's do not match"})),{label:"Confirm Password",type:"password",error:m.confirmPassword})),(0,a.jsxs)(x.Z,{loading:f,type:"submit",className:"is-info has-tw-bold is-fullwidth mt-5",children:[(0,a.jsx)("span",{children:"Sign up"}),(0,a.jsx)(_.Z,{children:(0,a.jsx)(p.lU2,{})})]})]})]})})},P=r(34894),E=r.n(P),N=function(e){var e=null!==e?e:(0,t.Z)(TypeError("Cannot destructure undefined")),s=(0,f.useContext)(o.g),r=(0,m.useRouter)(),l=(0,f.useState)(null),Z=l[0],y=l[1],P=(0,f.useState)(""),N=P[0],S=P[1],q=(0,f.useState)(""),R=q[0],k=q[1],C=(0,f.useState)(""),U=C[0],L=C[1],T=r.query.token;if(v.kc){var A=new URLSearchParams(window.location.search).toString();T=decodeURIComponent(T=(null==A?void 0:A.split("=")[1])||"")}var I=(0,h.cI)(),W=I.register,X=I.handleSubmit,D=I.setError,F=I.formState,O=F.errors,B=F.isSubmitting;(0,f.useEffect)(function(){T&&v.Wf.post("verifyEmailVerificationLink",void 0,{params:{token:T}}).then(function(e){y(!0),S(e.data.request_id),k(e.data.email),L(e.data.operation)}).catch(function(){y(!1)})},[T]);var G=function(e){if(e.password!==e.confirmPassword){D("confirmPassword",{type:"manual",message:"Passwords do not match"});return}return delete e.confirmPassword,v.Wf.post("registerUser",(0,n.Z)((0,i.Z)({},e),{email:R,user_type:"FREE"}),{headers:{X_REQUEST_ID:N}}).then(function(e){s.login(e.data.response_message),r.push(v.Z6.DASHBOARD)})};return null===Z?(0,a.jsx)(j.Z,{}):"FORGET_PASSWORD"===U?(0,a.jsx)(b,{requestId:N,email:R}):(0,a.jsx)("div",{className:E().container,children:(0,a.jsxs)("div",{className:"column is-12 is-flex is-flex-direction-column is-justify-content-center is-align-items-center fill-height ",children:[(0,a.jsx)("div",{className:"is-flex is-align-items-center mb-4 has-text-grey",children:(0,a.jsx)("div",{className:"image mr-4",children:(0,a.jsx)(u(),{href:"/",children:(0,a.jsx)("img",{src:"/icons/done.png",alt:"donestat"})})})}),(0,a.jsx)(c.M,{mode:"wait",children:(0,a.jsx)(d.E.div,(0,n.Z)((0,i.Z)({},w.Z),{className:E().info_wrapper,children:!1===Z?(0,a.jsx)("div",{className:"is-flex is-align-items-center is-flex-direction-column",children:(0,a.jsx)("p",{className:"has-text-grey",children:"This link has expired"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),(0,a.jsxs)("form",{onSubmit:X(G),children:[(0,a.jsx)(g.Z,(0,n.Z)((0,i.Z)({},W("name",{required:"name is required"})),{label:"Name",error:O.name})),(0,a.jsx)(g.Z,(0,n.Z)((0,i.Z)({},W("password",{required:"password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})),{label:"Password",type:"password",error:O.password})),(0,a.jsx)(g.Z,(0,n.Z)((0,i.Z)({},W("confirmPassword",{required:"Password's do not match"})),{label:"Confirm Password",type:"password",error:O.confirmPassword})),(0,a.jsxs)(x.Z,{loading:B,type:"submit",className:"is-info has-tw-bold is-fullwidth mt-5",children:[(0,a.jsx)("span",{children:"Sign up"}),(0,a.jsx)(_.Z,{children:(0,a.jsx)(p.lU2,{})})]})]})]})}),"".concat(Z))})]})})}},86889:function(e){e.exports={loading_section:"Loader_loading_section__B6waL",loading_overlay:"Loader_loading_overlay__qX6nW",low_opacity:"Loader_low_opacity__lAHDX"}},7722:function(e){e.exports={container:"auth_container__iBsWU is-centered mb-0",info_wrapper:"auth_info_wrapper__x2Cy9",danger:"auth_danger__q2fEw"}},34894:function(e){e.exports={container:"verifyAccount_container__XWF85 columns is-centered mb-0",info_wrapper:"verifyAccount_info_wrapper__U9ysr"}}},function(e){e.O(0,[7536,9774,2888,179],function(){return e(e.s=27166)}),_N_E=e.O()}]);