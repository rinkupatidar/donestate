(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3763],{13769:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/workspace",function(){return s(82896)}])},82896:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return _}});var c=s(85893),t=s(47568),i=s(70655),a=s(48228),r=s(36492),l=s(41107),d=s(18419),o=s(85998),u=s(77854),h=s(1438),x=s(65820),j=s(67294),m=s(89583),v=s(53159),p=s(31408),f=s(49861),N=s.n(f),C=function(){var e=(0,j.useState)(),n=e[0],s=e[1],f=(0,j.useState)(""),C=f[0],_=f[1],k=(0,j.useState)("all"),g=k[0],S=k[1],w=(0,j.useState)(!1),b=w[0],y=w[1],E=(0,j.useState)(!1),Z=E[0],P=E[1],F=(0,j.useState)(!1),H=F[0],O=F[1],L=function(e){var s=e.target.value.toLowerCase();_(s);var c=null==n?void 0:n.some(function(e){return"FINANCE"===e[3]&&e[2].toLowerCase().includes(s)}),t=null==n?void 0:n.some(function(e){return"STOCK"===e[3]&&e[2].toLowerCase().includes(s)}),i=null==n?void 0:n.some(function(e){return"ECONOMIC"===e[3]&&e[2].toLowerCase().includes(s)});c?(S("Finance"),y(!1),P(!0),O(!0)):""===s?(S("all"),y(!1),P(!1),O(!1)):t?(S("Stock"),y(!0),P(!1),O(!0)):i?(S("Economic"),y(!0),P(!0),O(!1)):(S("all"),y(!1),P(!1),O(!1))},I=(0,j.useState)(""),z=I[0];I[1];var A=(0,j.useState)(1),T=A[0];A[1];var J,M,D=(0,j.useState)(),K=D[0],X=D[1],B=(0,j.useState)(),U=B[0],Y=B[1],q=(0,a.D)(v.k0),G=(0,r.a)([h.Ed],function(){return(0,v.ch)({page:T})}),Q=(0,r.a)(["search-chart-titles",C],function(){return(0,v.tB)({search_text:C})},{enabled:!!C}),R=null==n?void 0:n.filter(function(e){return e[2].toLowerCase().includes(C.toLowerCase())}),V=(J=(0,t.Z)(function(e){var n;return(0,i.__generator)(this,function(s){switch(s.label){case 0:return[4,(0,v.JI)(e[0])];case 1:return(n=s.sent()).delete_warn_message?Y(n):q.mutate(e[0],{onSuccess:function(){return G.refetch()}}),[2]}})}),function(e){return J.apply(this,arguments)}),W=(M=(0,t.Z)(function(e){var n;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,(0,v.JI)(e)];case 1:return X(n.sent()),[2]}})}),function(e){return M.apply(this,arguments)});return(0,j.useEffect)(function(){C?s(Q.data):s(G.data)},[z,G.data,Q.data]),(0,c.jsxs)("div",{className:N().wrapper,children:[(0,c.jsx)(x.M,{children:U&&(0,c.jsx)(u.Z,{width:"30vw",close:function(){return Y(void 0)},children:(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"is-size-6 has-tw-bold",children:U.delete_warn_message}),(0,c.jsxs)("div",{className:"buttons is-centered mt-5 are-small",children:[(0,c.jsx)(l.Z,{onClick:function(){return Y(void 0)},children:"Cancel"}),(0,c.jsx)(l.Z,{className:"is-danger",onClick:function(){q.mutate(U.chart_id,{onSuccess:function(){return G.refetch()}}),Y(void 0)},children:"Delete Chart"})]})]})})}),(0,c.jsx)("div",{className:"p-3",children:(0,c.jsxs)("div",{className:"mb-2",children:[(0,c.jsx)(o.Z,{isLoading:Q.isFetching,type:"text",placeholder:"Search",value:C,onChange:L}),(0,c.jsxs)("div",{children:[(0,c.jsx)("button",{onClick:function(){return S("all")},children:"All"}),(0,c.jsx)("button",{onClick:function(){return S("Finance")},disabled:b,children:"Finance"}),(0,c.jsx)("button",{onClick:function(){return S("Stock")},disabled:Z,children:"Stock"}),(0,c.jsx)("button",{onClick:function(){return S("Economic")},disabled:H,children:"Economic"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"is-size-7 has-text-grey mt-2 mb-2",children:"Saved Charts"}),"all"===g&&(C?R.map(function(e){return(0,c.jsxs)("div",{onClick:function(){return W(e[0])},"data-selected":(null==K?void 0:K.chart_id)===e[0],className:N().item,children:[(0,c.jsxs)("div",{className:"v-center",children:[(0,c.jsxs)("span",{children:[e[2]," "]}),(0,c.jsxs)("span",{className:N().desc,children:["(",e[1],")"]})]}),(0,c.jsx)("div",{onClick:function(n){n.stopPropagation(),V(e)},children:(0,c.jsx)(d.Z,{className:"has-text-grey",children:(0,c.jsx)(m.aHS,{})})})]},e[0])}):null==n?void 0:n.map(function(e){return(0,c.jsxs)("div",{onClick:function(){return W(e[0])},"data-selected":(null==K?void 0:K.chart_id)===e[0],className:N().item,children:[(0,c.jsxs)("div",{className:"v-center",children:[(0,c.jsxs)("span",{children:[e[2]," "]}),(0,c.jsxs)("span",{className:N().desc,children:["(",e[1],")"]})]}),(0,c.jsx)("div",{onClick:function(n){n.stopPropagation(),V(e)},children:(0,c.jsx)(d.Z,{className:"has-text-grey",children:(0,c.jsx)(m.aHS,{})})})]},e[0])})),"Finance"===g&&(C?R.map(function(e){return(0,c.jsxs)("div",{onClick:function(){return W(e[0])},"data-selected":(null==K?void 0:K.chart_id)===e[0],className:N().item,children:[(0,c.jsxs)("div",{className:"v-center",children:[(0,c.jsxs)("span",{children:[e[2]," "]}),(0,c.jsxs)("span",{className:N().desc,children:["(",e[1],")"]})]}),(0,c.jsx)("div",{onClick:function(n){n.stopPropagation(),V(e)},children:(0,c.jsx)(d.Z,{className:"has-text-grey",children:(0,c.jsx)(m.aHS,{})})})]},e[0])}):null==n?void 0:n.map(function(e){return"FINANCE"===e[3]&&(0,c.jsxs)("div",{onClick:function(){return W(e[0])},"data-selected":(null==K?void 0:K.chart_id)===e[0],className:N().item,children:[(0,c.jsxs)("div",{className:"v-center",children:[(0,c.jsxs)("span",{children:[e[2]," "]}),(0,c.jsxs)("span",{className:N().desc,children:["(",e[1],")"]})]}),(0,c.jsx)("div",{onClick:function(n){n.stopPropagation(),V(e)},children:(0,c.jsx)(d.Z,{className:"has-text-grey",children:(0,c.jsx)(m.aHS,{})})})]},e[0])})),"Stock"===g&&(C?R.map(function(e){return(0,c.jsxs)("div",{onClick:function(){return W(e[0])},"data-selected":(null==K?void 0:K.chart_id)===e[0],className:N().item,children:[(0,c.jsxs)("div",{className:"v-center",children:[(0,c.jsxs)("span",{children:[e[2]," "]}),(0,c.jsxs)("span",{className:N().desc,children:["(",e[1],")"]})]}),(0,c.jsx)("div",{onClick:function(n){n.stopPropagation(),V(e)},children:(0,c.jsx)(d.Z,{className:"has-text-grey",children:(0,c.jsx)(m.aHS,{})})})]},e[0])}):null==n?void 0:n.map(function(e){return"STOCK"===e[3]&&(0,c.jsxs)("div",{onClick:function(){return W(e[0])},"data-selected":(null==K?void 0:K.chart_id)===e[0],className:N().item,children:[(0,c.jsxs)("div",{className:"v-center",children:[(0,c.jsxs)("span",{children:[e[2]," "]}),(0,c.jsxs)("span",{className:N().desc,children:["(",e[1],")"]})]}),(0,c.jsx)("div",{onClick:function(n){n.stopPropagation(),V(e)},children:(0,c.jsx)(d.Z,{className:"has-text-grey",children:(0,c.jsx)(m.aHS,{})})})]},e[0])})),"Economic"===g&&(C?R.map(function(e){return(0,c.jsxs)("div",{onClick:function(){return W(e[0])},"data-selected":(null==K?void 0:K.chart_id)===e[0],className:N().item,children:[(0,c.jsxs)("div",{className:"v-center",children:[(0,c.jsxs)("span",{children:[e[2]," "]}),(0,c.jsxs)("span",{className:N().desc,children:["(",e[1],")"]})]}),(0,c.jsx)("div",{onClick:function(n){n.stopPropagation(),V(e)},children:(0,c.jsx)(d.Z,{className:"has-text-grey",children:(0,c.jsx)(m.aHS,{})})})]},e[0])}):null==n?void 0:n.map(function(e){return"ECONOMIC"===e[3]&&(0,c.jsxs)("div",{onClick:function(){return W(e[0])},"data-selected":(null==K?void 0:K.chart_id)===e[0],className:N().item,children:[(0,c.jsxs)("div",{className:"v-center",children:[(0,c.jsxs)("span",{children:[e[2]," "]}),(0,c.jsxs)("span",{className:N().desc,children:["(",e[1],")"]})]}),(0,c.jsx)("div",{onClick:function(n){n.stopPropagation(),V(e)},children:(0,c.jsx)(d.Z,{className:"has-text-grey",children:(0,c.jsx)(m.aHS,{})})})]},e[0])}))]})]})}),(0,c.jsxs)("div",{className:"px-3 py-6",children:[!(null==K?void 0:K.symbol)&&(0,c.jsx)("div",{className:"v-center is-justify-content-center fill-height",children:(0,c.jsx)("p",{className:"has-text-grey has-text-center",children:"Please select a chart."})}),(null==K?void 0:K.symbol)&&(0,c.jsx)(p.Z,{symbol:null==K?void 0:K.symbol,config:K,disableSavedCharts:!0})]})]})},_=function(){return(0,c.jsx)(C,{})}},49861:function(e){e.exports={wrapper:"workspace_wrapper__d7zzh",item:"workspace_item__CYAsJ",desc:"workspace_desc__inFUs"}}},function(e){e.O(0,[5445,5520,6898,696,4544,7536,4875,881,6619,1408,9774,2888,179],function(){return e(e.s=13769)}),_N_E=e.O()}]);