(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5512],{5512:function(t,e,o){var i,n,s;s=function(t){function e(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Stock/Indicators/VBP/VBPPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(t){var e,o=this&&this.__extends||(e=function(t,o){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,o)},function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)});return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.destroy=function(){return this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),t.prototype.destroy.apply(this,arguments)},e}(t.seriesTypes.sma.prototype.pointClass)}),e(t,"Stock/Indicators/VBP/VBPIndicator.js",[t["Stock/Indicators/VBP/VBPPoint.js"],t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Chart/StockChart.js"]],function(t,e,o,i,n,s){var a,r=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),p=e.animObject;e=o.noop;var l=i.seriesTypes,u=l.column.prototype,h=l.sma,d=n.addEvent,c=n.arrayMax,f=n.arrayMin,v=n.correctFloat,m=n.defined,y=n.error,g=n.extend,S=n.isArray,V=n.merge,x=Math.abs;return n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.negWidths=void 0,e.options=void 0,e.points=void 0,e.posWidths=void 0,e.priceZones=void 0,e.rangeStep=void 0,e.volumeDataArray=void 0,e.zoneStarts=void 0,e.zoneLinesSVG=void 0,e}return r(e,t),e.prototype.init=function(t){var e,i,n,a=this;o.seriesTypes.sma.prototype.init.apply(a,arguments);var r=d(s,"afterLinkSeries",function(){a.options&&(e=a.options.params,i=a.linkedParent,n=t.get(e.volumeSeriesID),a.addCustomEvents(i,n)),r()},{order:1});return a},e.prototype.addCustomEvents=function(t,e){function o(){i.chart.redraw(),i.setData([]),i.zoneStarts=[],i.zoneLinesSVG&&(i.zoneLinesSVG=i.zoneLinesSVG.destroy())}var i=this;return i.dataEventsToUnbind.push(d(t,"remove",function(){o()})),e&&i.dataEventsToUnbind.push(d(e,"remove",function(){o()})),i},e.prototype.animate=function(t){var e=this,o=e.chart.inverted,i=e.group,n={};!t&&i&&(t=o?e.yAxis.top:e.xAxis.left,o?(i["forceAnimate:translateY"]=!0,n.translateY=t):(i["forceAnimate:translateX"]=!0,n.translateX=t),i.animate(n,g(p(e.options.animation),{step:function(t,o){e.group.attr({scaleX:Math.max(.001,o.pos)})}})))},e.prototype.drawPoints=function(){this.options.volumeDivision.enabled&&(this.posNegVolume(!0,!0),u.drawPoints.apply(this,arguments),this.posNegVolume(!1,!1)),u.drawPoints.apply(this,arguments)},e.prototype.posNegVolume=function(t,e){var o,i=e?["positive","negative"]:["negative","positive"],n=this.options.volumeDivision,s=this.points.length,a=[],r=[],p=0;for(t?(this.posWidths=a,this.negWidths=r):(a=this.posWidths,r=this.negWidths);p<s;p++){var l=this.points[p];if(l[i[0]+"Graphic"]=l.graphic,l.graphic=l[i[1]+"Graphic"],t){var u=l.shapeArgs.width,h=this.priceZones[p];(o=h.wholeVolumeData)?(a.push(u/o*h.positiveVolumeData),r.push(u/o*h.negativeVolumeData)):(a.push(0),r.push(0))}l.color=e?n.styles.positiveColor:n.styles.negativeColor,l.shapeArgs.width=e?this.posWidths[p]:this.negWidths[p],l.shapeArgs.x=e?l.shapeArgs.x:this.posWidths[p]}},e.prototype.translate=function(){var t,e,o,i=this,n=i.options,s=i.chart,a=i.yAxis,r=a.min,p=i.options.zoneLines,l=i.priceZones,h=0;u.translate.apply(i);var d=i.points;if(d.length){var f=.5>n.pointPadding?n.pointPadding:.1,m=c(n=i.volumeDataArray),y=s.plotWidth/2,g=s.plotTop,S=x(a.toPixels(r)-a.toPixels(r+i.rangeStep)),V=x(a.toPixels(r)-a.toPixels(r+i.rangeStep));f&&(r=x(S*(1-2*f)),h=x((S-r)/2),S=x(r)),d.forEach(function(n,s){e=n.barX=n.plotX=0,o=n.plotY=a.toPixels(l[s].start)-g-(a.reversed?S-V:S)-h,t=v(y*l[s].wholeVolumeData/m),n.pointWidth=t,n.shapeArgs=i.crispCol.apply(i,[e,o,t,S]),n.volumeNeg=l[s].negativeVolumeData,n.volumePos=l[s].positiveVolumeData,n.volumeAll=l[s].wholeVolumeData}),p.enabled&&i.drawZones(s,a,i.zoneStarts,p.styles)}},e.prototype.getValues=function(t,e){var o,i=t.processedXData,n=t.processedYData,s=this.chart,a=e.ranges,r=[],p=[],l=[];if(t.chart){if(o=s.get(e.volumeSeriesID)){if(!(e=S(n[0]))||4===n[0].length)return(this.priceZones=this.specifyZones(e,i,n,a,o)).forEach(function(t,e){r.push([t.x,t.end]),p.push(r[e][0]),l.push(r[e][1])}),{values:r,xData:p,yData:l};y("Type of "+t.name+" series is different than line, OHLC or candlestick.",!0,s)}else y("Series "+e.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,s)}else y("Base series not found! In case it has been removed, add a new one.",!0,s)},e.prototype.specifyZones=function(t,e,o,i,n){if(t){for(var s,a=o.length,r=o[0][3],p=r,l=1;l<a;l++)(s=o[l][3])<r&&(r=s),s>p&&(p=s);a={min:r,max:p}}else a=!1;a=(r=a)?r.min:f(o),s=r?r.max:c(o),r=this.zoneStarts=[],p=[];var u=0;l=1;var h=this.linkedParent;if(!this.options.compareToMain&&h.dataModify&&(a=h.dataModify.modifyValue(a),s=h.dataModify.modifyValue(s)),!m(a)||!m(s))return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG&&(this.zoneLinesSVG=this.zoneLinesSVG.destroy())),[];for(h=this.rangeStep=v(s-a)/i,r.push(a);u<i-1;u++)r.push(v(r[u]+h));for(r.push(s),i=r.length;l<i;l++)p.push({index:l-1,x:e[0],start:r[l-1],end:r[l]});return this.volumePerZone(t,p,n,e,o)},e.prototype.volumePerZone=function(t,e,o,i,n){var s,a,r,p,l,u=this,h=o.processedXData,d=o.processedYData,c=e.length-1,f=n.length;return x(f-(o=d.length))&&(i[0]!==h[0]&&d.unshift(0),i[f-1]!==h[o-1]&&d.push(0)),u.volumeDataArray=[],e.forEach(function(e){for(e.wholeVolumeData=0,e.positiveVolumeData=0,l=e.negativeVolumeData=0;l<f;l++){r=a=!1,p=t?n[l][3]:n[l],s=l?t?n[l-1][3]:n[l-1]:p;var o=u.linkedParent;!u.options.compareToMain&&o.dataModify&&(p=o.dataModify.modifyValue(p),s=o.dataModify.modifyValue(s)),p<=e.start&&0===e.index&&(a=!0),p>=e.end&&e.index===c&&(r=!0),(p>e.start||a)&&(p<e.end||r)&&(e.wholeVolumeData+=d[l],s>p?e.negativeVolumeData+=d[l]:e.positiveVolumeData+=d[l])}u.volumeDataArray.push(e.wholeVolumeData)}),e},e.prototype.drawZones=function(t,e,o,i){var n,s=t.renderer,a=this.zoneLinesSVG,r=[],p=t.plotWidth,l=t.plotTop;o.forEach(function(o){n=e.toPixels(o)-l,r=r.concat(t.renderer.crispLine([["M",0,n],["L",p,n]],i.lineWidth))}),a?a.animate({d:r}):a=this.zoneLinesSVG=s.path(r).attr({"stroke-width":i.lineWidth,stroke:i.color,dashstyle:i.dashStyle,zIndex:this.group.zIndex+.1}).add(this.group)},e.defaultOptions=V(h.defaultOptions,{params:{index:void 0,period:void 0,ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"7px"},verticalAlign:"top"}}),e}(h),g(n.prototype,{nameBase:"Volume by Price",nameComponents:["ranges"],calculateOn:{chart:"render",xAxis:"afterSetExtremes"},pointClass:t,markerAttribs:e,drawGraph:e,getColumnMetrics:u.getColumnMetrics,crispCol:u.crispCol}),i.registerSeriesType("vbp",n),n}),e(t,"masters/indicators/volume-by-price.src.js",[],function(){})},t.exports?(s.default=s,t.exports=s):void 0!==(n=(function(t){return s(t),s.Highcharts=t,s}).apply(e,[o(78840),o(50496)]))&&(t.exports=n)}}]);